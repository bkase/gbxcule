{"id":"bd-10f","title":"WS2: DGX smoke run for warp_vec_cuda","description":"Run a minimal harness invocation on DGX using warp_vec_cuda.\n\nDoD:\n- uv run python bench/harness.py --backend warp_vec_cuda --rom ... --steps 10 completes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:34:49.239575732Z","created_by":"bkase","updated_at":"2026-01-22T13:34:26.015199748Z","closed_at":"2026-01-22T13:34:26.015171252Z","close_reason":"Ran warp_vec_cuda harness smoke on CUDA","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-10f","depends_on_id":"bd-39h","type":"parent-child","created_at":"2026-01-22T12:34:49.246625246Z","created_by":"bkase"}]}
{"id":"bd-11d","title":"WS3: CUDA-safe memory reads for verify","description":"Implement CUDA read_memory slice-copy to avoid full device->host copies during verify.\n\nDoD:\n- mem-region verify on CUDA avoids O(num_envs*64KB) transfers.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-22T12:34:49.736020106Z","created_by":"bkase","updated_at":"2026-01-22T13:51:56.057138681Z","closed_at":"2026-01-22T13:51:56.057111305Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11d","depends_on_id":"bd-39h","type":"blocks","created_at":"2026-01-22T12:34:50.256365835Z","created_by":"bkase"}]}
{"id":"bd-11e","title":"WS2: Refactor WarpVec backends into base + CPU/CUDA subclasses","description":"Create WarpVecBaseBackend with shared ABI/ROM/step plumbing, then derive WarpVecCpuBackend and WarpVecCudaBackend with device-specific overrides.","acceptance_criteria":"1) `WarpVecBaseBackend` owns shared init/reset/step/close logic and ABI buffer allocation.\n2) `WarpVecCpuBackend` uses `device=\"cpu\"` and keeps current behavior/correctness.\n3) `WarpVecCudaBackend` uses Warp device `cuda:0` with `device=\"cuda\"` and does not unconditionally synchronize in `step()`.\n4) CPU tests remain green (at least `tests/test_warp_vec_cpu_backend.py` and `tests/test_warp_vec_ws2.py`).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T12:34:47.818057844Z","created_by":"bkase","updated_at":"2026-01-22T13:30:47.603056476Z","closed_at":"2026-01-22T13:30:47.602999004Z","close_reason":"Refactored WarpVec base + added CPU/CUDA subclasses","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11e","depends_on_id":"bd-39h","type":"parent-child","created_at":"2026-01-22T12:34:47.824971567Z","created_by":"bkase"}]}
{"id":"bd-11r","title":"Epic8: Action trace recording + replay","description":"Implement actions.jsonl recording and --actions-file replay support.\n\nScope:\n- Action trace format: one JSON array per line (int32 actions).\n- In verify mode: always record actions.jsonl.\n- If --actions-file provided: ignore seed/gen and replay exact actions deterministically.\n\nAcceptance:\n- Replaying actions reproduces same steps; trace file length equals verify_steps.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:08.754372298Z","created_by":"bkase","updated_at":"2026-01-21T15:26:43.706198762Z","closed_at":"2026-01-21T15:26:43.706142602Z","close_reason":"Implemented actions.jsonl recording on mismatch and --actions-file replay support.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11r","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:08.770099328Z","created_by":"bkase"}]}
{"id":"bd-13j","title":"Epic3: Enforce pyright strict for common.py","description":"Update pyproject.toml (or add pyright config) so src/gbxcule/backends/common.py is type-checked in strict mode, per ARCHITECTURE.md.\n\nScope:\n- Adjust [tool.pyright] config to apply strict for common.py (and any new shared schema module).\n- Keep other modules at current strictness to preserve fast dev loop.\n\nAcceptance:\n- pyright reports strict-mode issues for common.py; no new errors introduced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:47.692101268Z","created_by":"bkase","updated_at":"2026-01-21T14:24:54.230198051Z","closed_at":"2026-01-21T14:24:54.230140259Z","close_reason":"Added pyright strict mode for common.py","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-13j","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:47.708691309Z","created_by":"bkase"}]}
{"id":"bd-145","title":"Story 6.2: Basic reliability checks for MP backend","description":"Scope\n- Add a test or smoke run to verify startup, shutdown, and error propagation.\n\nAcceptance\n- Failing worker causes non-zero exit and no leaked processes.\n\nRefs\n- history/m0-epics.md (Story 6.2)\n- CONSTITUTION.md (Section V: crash-only software)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.818206443Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.044119385Z","deleted_at":"2026-01-21T09:15:23.044113769Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-14x","title":"Epic6: MP reliability + smoke tests","description":"Add tests to verify pyboy_vec_mp reliability.\n\nRefs: tests/test_backends_common.py, bench/roms/build_micro_rom.py, bench/roms/suite.yaml.\n\nTests:\n- Start backend with num_envs=4, num_workers=2; reset(seed=123).\n- Run a small number of steps (8â€“32); ensure no hang.\n- close() joins workers within timeout.\n- Optional: get_cpu_state(0) returns canonical keys.\n\nAcceptance:\n- Tests are fast (<2 min gate) and fail fast on worker failure.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:53.678100712Z","created_by":"bkase","updated_at":"2026-01-21T15:07:07.755825218Z","closed_at":"2026-01-21T15:07:07.755797810Z","close_reason":"Added 26 tests covering config validation, reset/step reliability, get_cpu_state RPC, close() cleanup, and deterministic seeding","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-14x","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:53.694568583Z","created_by":"bkase"}]}
{"id":"bd-15d","title":"Epic7: Tests with fake backend for SPS math + schema","description":"Add tests for harness math and schema using an in-memory fake backend (no PyBoy).\n\nScope:\n- Fake VecBackend returns fixed outputs; step increments a counter.\n- Test SPS formulas (total/per-env) and frames_per_sec computed correctly.\n- Validate artifact keys exist and json.dumps succeeds.\n- Avoid timing flakiness: assert formulas based on mocked seconds or injected timer.\n\nAcceptance:\n- Tests are deterministic and fast; no external deps required.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:39.733516012Z","created_by":"bkase","updated_at":"2026-01-21T15:19:40.164549816Z","closed_at":"2026-01-21T15:19:40.164493575Z","close_reason":"Added FakeVecBackend and 11 tests for SPS formulas and artifact schema validation.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-15d","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:39.750136847Z","created_by":"bkase"}]}
{"id":"bd-15h","title":"WS4: tests for mem-region hashing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T07:45:26.279832166Z","created_by":"bkase","updated_at":"2026-01-22T07:55:24.452994948Z","closed_at":"2026-01-22T07:55:24.452967860Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-15q","title":"WS2 Part 4: Stage kernel cache + warmup","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T05:47:12.719243661Z","created_by":"bkase","updated_at":"2026-01-23T05:47:12.719243661Z","compaction_level":0,"original_size":0}
{"id":"bd-174","title":"WS2 Part 1: Lock fused-kernel ABI + stage semantics","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-23T05:47:01.150084248Z","created_by":"bkase","updated_at":"2026-01-23T05:49:27.736870434Z","compaction_level":0,"original_size":0}
{"id":"bd-1au","title":"WS6: Tighten MAX_MEM_DUMP_BYTES to 1024","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:26:20.463810997Z","created_by":"bkase","updated_at":"2026-01-22T14:32:27.105262093Z","closed_at":"2026-01-22T14:32:27.105235020Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1bn","title":"Story 1.1: Create repository structure exactly as spec","description":"Scope\n- Create all directories and files specified in PRD structure.\n- Add placeholder modules that are import-safe (no heavy imports at module import time).\n- Add minimal __main__.py that prints guidance for uv run.\n- Add .gitignore for .venv, __pycache__, bench/roms/out, bench/runs.\n\nAcceptance\n- uv run python -c \"import gbxcule; print('ok')\" succeeds.\n- uv run python -c \"import gbxcule.backends; import gbxcule.core; import gbxcule.kernels; print('ok')\" succeeds.\n\nRefs\n- history/epic1.md (Story 1.1)\n- history/prd.md (Section 6: Repo structure)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:37.842273091Z","created_by":"bkase","updated_at":"2026-01-21T09:21:04.616003082Z","closed_at":"2026-01-21T09:21:04.615947946Z","close_reason":"Implemented: repo structure created with all directories and placeholder modules","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1bn","depends_on_id":"bd-2sn","type":"parent-child","created_at":"2026-01-21T09:12:37.850770876Z","created_by":"bkase"}]}
{"id":"bd-1cf","title":"Story 8.2: Implement mismatch repro bundle writer","description":"Scope\n- Implement repro bundle writer with atomic directory creation.\n- Include metadata.json, ref_state.json, dut_state.json, diff.json, repro.sh.\n\nAcceptance\n- Repro bundle is JSON-only and idempotent to write.\n\nRefs\n- history/m0-epics.md (Story 8.2)\n- ARCHITECTURE.md (Section 7.4: mismatch automation)\n- CONSTITUTION.md (Section V: crash-only, structured logs)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.959539175Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.075524221Z","deleted_at":"2026-01-21T09:15:23.075518189Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1dk","title":"WS0: Document M3 GPU gate commands","description":"Update README with M3/DGX gate commands and add to Common Commands.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:21:28.946857660Z","created_by":"bkase","updated_at":"2026-01-22T12:34:46.485568233Z","closed_at":"2026-01-22T12:24:43.133974798Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1dk","depends_on_id":"bd-1kg","type":"blocks","created_at":"2026-01-22T12:34:46.485554457Z","created_by":"bkase"}]}
{"id":"bd-1dx","title":"WS2: Register explicit backend names (warp_vec_cpu/warp_vec_cuda)","description":"Wire `warp_vec_cuda` through the harness backend registry and constructor dispatch (so Makefile GPU targets don't fail with \"Unknown backend\").\n\nNotes:\n- CLI choices already include warp_vec_cuda (WS0 done); this task is the missing registry + create_backend plumbing.","acceptance_criteria":"1) `bench/harness.py::register_backends()` registers `warp_vec_cuda`.\n2) `bench/harness.py::create_backend()` can construct `warp_vec_cuda` with the same kwargs as `warp_vec_cpu` (num_envs, frames_per_step, obs_dim, etc.).\n3) On DGX: `uv run python bench/harness.py --backend warp_vec_cuda --rom bench/roms/out/ALU_LOOP.gb --steps 1 --warmup-steps 0` starts and writes an artifact.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T12:34:48.275979063Z","created_by":"bkase","updated_at":"2026-01-22T13:31:46.603738729Z","closed_at":"2026-01-22T13:31:46.603668440Z","close_reason":"Registered warp_vec_cuda in harness registry and constructor","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1dx","depends_on_id":"bd-39h","type":"parent-child","created_at":"2026-01-22T12:34:48.282173871Z","created_by":"bkase"}]}
{"id":"bd-1f5","title":"WS1: Add core action schedule helper + tests","description":"Centralize press/release timing logic so PyBoy backends share one definition.\\n\\nImplementation:\\n- Add src/gbxcule/core/action_schedule.py\\n  - Validate 0 <= release_after_frames <= frames_per_step\\n  - Helpers for determining pressed state / ticks\\n\\nTests:\\n- Add tests/test_action_schedule.py (boundary cases: 0, 1, equal, invalid)\\n\\nDoD:\\n- Pure module (no PyBoy/Warp imports).\\n- Unit tests pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T04:41:10.278755694Z","created_by":"bkase","updated_at":"2026-01-23T04:46:27.814690083Z","closed_at":"2026-01-23T04:46:27.814662180Z","close_reason":"Implemented action schedule helpers and tests","compaction_level":0,"original_size":0}
{"id":"bd-1hi","title":"Workstream 0: embed ROM in mismatch bundles","description":"Plan (Workstream 0):\n1) Inspect current bundle behavior: check bench/harness.py write_mismatch_bundle and tests/test_harness.py TestMismatchBundle for file layout + ROM path usage.\n2) Write/extend tests first (verifiable reward): ensure bundle contains rom.gb, repro.sh uses embedded ROM path, and metadata.json includes rom_filename (optionally rom_size/hash if present).\n3) Implement minimal change in write_mismatch_bundle: copy ROM bytes into temp bundle dir as rom.gb, update metadata.json, and update repro.sh to use the embedded ROM path. Keep atomic bundle finalize.\n4) Validate locally: run pytest -k mismatch, then make check to confirm <=2 min gate and no regressions.\n5) If green, close issue + sync beads JSONL.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T03:51:46.091357510Z","created_by":"bkase","updated_at":"2026-01-22T03:53:05.107920711Z","closed_at":"2026-01-22T03:53:05.107893606Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1hz","title":"WS2 Part 6: Tests for stage correctness + invariants","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T05:47:20.679627083Z","created_by":"bkase","updated_at":"2026-01-23T05:47:20.679627083Z","compaction_level":0,"original_size":0}
{"id":"bd-1i0","title":"Epic7: Scaling run support","description":"Add --env-counts support for scaling sweeps.\n\nScope:\n- Parse --env-counts 1,2,4,... and run benchmark per env count.\n- Emit scaling artifact JSON with sweep config and ordered results list.\n- Keep deterministic ordering and fields.\n\nAcceptance:\n- Scaling JSON written to bench/runs/<timestamp>/<run_id>__scaling.json (or similar).\n- Each entry includes env_count + results metrics.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:33.015298183Z","created_by":"bkase","updated_at":"2026-01-21T15:17:59.289197636Z","closed_at":"2026-01-21T15:17:59.289171348Z","close_reason":"Implemented --env-counts scaling sweeps with ordered results list in _scaling.json artifact.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1i0","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:33.031591978Z","created_by":"bkase"}]}
{"id":"bd-1ij","title":"WS4: add mem-region parsing + hash compare","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T07:45:10.858263606Z","created_by":"bkase","updated_at":"2026-01-22T07:50:38.786118969Z","closed_at":"2026-01-22T07:50:38.786063865Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1ju","title":"WS1: Regenerate uv.lock for cu13 source override(s)","description":"Run uv lock after adding warp-lang source override(s) and commit the updated uv.lock.\\n\\nDoD:\\n- uv.lock updated deterministically after the pyproject change.\\n- Lock contains appropriate entries to install Warp on macOS and linux/aarch64 (cu13 via URL source).\\n- uv lock --check passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:25:24.952160298Z","created_by":"bkase","updated_at":"2026-01-22T12:39:16.472028225Z","closed_at":"2026-01-22T12:39:16.471972065Z","close_reason":"uv.lock updated for cu13 sources","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ju","depends_on_id":"bd-297","type":"blocks","created_at":"2026-01-22T12:26:31.884426761Z","created_by":"bkase"},{"issue_id":"bd-1ju","depends_on_id":"bd-t7w","type":"parent-child","created_at":"2026-01-22T12:25:24.959343555Z","created_by":"bkase"}],"comments":[{"id":3,"issue_id":"bd-1ju","author":"bkase","text":"Ran uv lock and uv lock --check; uv.lock now includes warp-lang v1.11.0+cu13 for Linux sources.","created_at":"2026-01-22T12:39:11Z"}]}
{"id":"bd-1kg","title":"WS0: M3 spec + gates (contract stream)","description":"Lock M3 definition of done and make GPU gates executable via Make targets and docs.\n\nDoD:\n- verify-gpu/bench-gpu/check-gpu targets defined and documented.\n- DGX user can run the commands once CUDA backend is correct.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-22T12:34:45.084898970Z","created_by":"bkase","updated_at":"2026-01-22T13:20:46.246963562Z","closed_at":"2026-01-22T13:20:46.246936858Z","close_reason":"Completed: GPU Make targets + docs + harness CLI choices","compaction_level":0,"original_size":0}
{"id":"bd-1ks","title":"Epic6: Implement pyboy_vec_mp backend core","description":"Implement src/gbxcule/backends/pyboy_vec_mp.py as a VecBackend.\n\nScope:\n- Define a frozen config dataclass (num_envs, num_workers, frames_per_step, release_after_frames, rom_path, base_seed, headless, obs_dim). Validate in __post_init__ with clear ValueError messages.\n- Master/worker architecture using multiprocessing with top-level worker functions for spawn safety.\n- Partition env indices across workers (static), each worker owns its PyBoy instances.\n- Master sends commands: RESET, STEP, GET_CPU_STATE, CLOSE.\n- Worker returns OK/STATE/ERR messages with error detail.\n\nAcceptance:\n- Protocol fields: name=\"pyboy_vec_mp\", device=\"cpu\", num_envs set, action_spec/obs_spec set.\n- step accepts int32[num_envs] and returns obs/reward/done/trunc with correct shapes/dtypes.\n- IPC payloads minimal (actions + ack); obs can be zeros for M0.\n- Fail fast on worker error or dead pipe.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:24.201499633Z","created_by":"bkase","updated_at":"2026-01-21T15:00:04.100128767Z","closed_at":"2026-01-21T15:00:04.100072223Z","close_reason":"Implemented core MP backend with master/worker architecture, IPC protocol, and VecBackend interface","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ks","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:24.208165657Z","created_by":"bkase"}]}
{"id":"bd-1l5","title":"Epic 3: Backend contract and shared types","description":"Goal\n- Define a stable backend interface and shared result types for harness/backends.\n\nScope\n- VecBackend protocol in src/gbxcule/backends/common.py.\n- Shared dataclasses for step/reset outputs and run metadata.\n- Schema fields required for reporting.\n\nAcceptance\n- Interface includes reset/step/get_cpu_state/close and metadata properties.\n- Harness can depend on the contract without backend-specific imports.\n\nRefs\n- history/m0-epics.md (Epic 3)\n- history/prd.md (Section 8: backend contract)\n- ARCHITECTURE.md (Section 5.1: VecBackend protocol)\n- CONSTITUTION.md (Section I: correctness by construction)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:38.382965866Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.060403750Z","deleted_at":"2026-01-21T09:15:23.060398086Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-1la","title":"Story 5.2: Add minimal state snapshot normalization","description":"Scope\n- Normalize get_cpu_state output to JSON-friendly scalars and stable keys.\n- Derive flags from F register if applicable.\n\nAcceptance\n- get_cpu_state output matches the canonical schema shape.\n\nRefs\n- history/m0-epics.md (Story 5.2)\n- ARCHITECTURE.md (Section 7.1: canonical CPU state schema)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.404291686Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.123645473Z","deleted_at":"2026-01-21T09:15:23.123634993Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1mp","title":"Epic3: Define backend contract + core types in common.py","description":"Implement the backend interface contract and shared core types in src/gbxcule/backends/common.py.\n\nScope:\n- Add Device and Stage literals and NDArray aliases.\n- Add ArraySpec + BackendSpec dataclasses with to_json_dict (tuples->lists, dtype as string).\n- Add StepOutput dataclass (obs/reward/done/trunc/info).\n- Add CpuFlags + CpuState TypedDict with canonical keys and optional counters.\n- Define VecBackend Protocol matching reset/step/get_cpu_state/close with batched semantics.\n- Add fast validation helpers: flags_from_f, validate_actions, as_i32_actions, validate_step_output, empty_obs.\n\nAcceptance:\n- Shapes/dtypes align with Epic3 invariants (actions int32[num_envs], obs float32[num_envs, obs_dim], reward float32[num_envs], done/trunc bool[num_envs]).\n- Validation raises ValueError with actionable messages.\n- No heavy deps added; pure dataclasses/typing + numpy only.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:21.930551349Z","created_by":"bkase","updated_at":"2026-01-21T14:20:12.811838477Z","closed_at":"2026-01-21T14:20:12.811681309Z","close_reason":"Implemented backend contract + core types in common.py","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1mp","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:21.947091240Z","created_by":"bkase"}]}
{"id":"bd-1o8","title":"Story 7.1: Implement harness CLI skeleton","description":"Scope\n- Implement bench/harness.py with backend selection and ROM/suite inputs.\n- Support stage emulate_only, steps, warmup, and output dir.\n- Emit JSON artifact per run.\n\nAcceptance\n- CLI runs pyboy_single baseline and writes JSON under bench/runs/.\n\nRefs\n- history/m0-epics.md (Story 7.1)\n- ARCHITECTURE.md (Section 8: benchmarking protocol)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.110046613Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.071493050Z","deleted_at":"2026-01-21T09:15:23.071483226Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1pa","title":"WS0: Allow warp_vec_cuda in harness CLI choices","description":"Update bench/harness.py CLI choices to accept warp_vec_cuda for --backend and --dut-backend.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:21:24.553760186Z","created_by":"bkase","updated_at":"2026-01-22T12:34:46.027125604Z","closed_at":"2026-01-22T12:23:36.921739319Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1pa","depends_on_id":"bd-1kg","type":"blocks","created_at":"2026-01-22T12:34:46.027102548Z","created_by":"bkase"}]}
{"id":"bd-1pl","title":"Epic 8: Verification scaffold + mismatch repro bundles","description":"Intent: Add verify mode to the harness that compares ref vs DUT, fails fast on mismatch, and emits a reproducible mismatch bundle (JSON-only + repro.sh).\n\nKey refs to read: ARCHITECTURE.md (correctness + mismatch bundle), CONSTITUTION.md (verifiable rewards), history/epic6789.md, src/gbxcule/backends/common.py, src/gbxcule/core/signatures.py, bench/harness.py, src/gbxcule/backends/warp_vec.py.\n\nMusts:\n- MISMATCH_SCHEMA_VERSION=1; stable JSON bundle.\n- Actions trace recorded (actions.jsonl) to ensure reproducibility.\n- --actions-file replay path supported (overrides generator).\n- Mismatch bundle written atomically; mismatch exits non-zero with short summary.\n\nAcceptance: verify test fails as expected against DUT stub and produces full bundle with repro.sh.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:42:48.747174241Z","created_by":"bkase","updated_at":"2026-01-21T15:31:12.929316869Z","closed_at":"2026-01-21T15:31:12.929260068Z","close_reason":"Epic 8 complete: verification scaffold with mismatch repro bundles","compaction_level":0,"original_size":0}
{"id":"bd-1ps","title":"WS1: Refactor PyBoySingleBackend to use action codec + schedule","description":"Refactor PyBoySingleBackend to interpret actions exclusively via ActionCodec and use shared schedule helpers.\\n\\nImplementation:\\n- src/gbxcule/backends/pyboy_single.py\\n  - Accept action_codec: str (default legacy_v0 initially)\\n  - Validate release_after_frames <= frames_per_step at init\\n  - Use codec.to_pyboy_button(action) and shared schedule helpers\\n  - Expose backend.num_actions + backend.action_codec metadata\\n\\nDoD:\\n- Existing verify/tests still pass under default codec.\\n- Out-of-range actions error messages reference codec range.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T04:41:24.245060118Z","created_by":"bkase","updated_at":"2026-01-23T04:49:47.064320287Z","closed_at":"2026-01-23T04:49:47.064293791Z","close_reason":"Updated pyboy_single to use codec + schedule helpers","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ps","depends_on_id":"bd-1f5","type":"blocks","created_at":"2026-01-23T04:42:04.195789074Z","created_by":"bkase"},{"issue_id":"bd-1ps","depends_on_id":"bd-32r","type":"blocks","created_at":"2026-01-23T04:42:03.554167325Z","created_by":"bkase"},{"issue_id":"bd-1ps","depends_on_id":"bd-a7j","type":"blocks","created_at":"2026-01-23T04:42:04.889259765Z","created_by":"bkase"}]}
{"id":"bd-1re","title":"Story 9.1: README why + how to run","description":"Scope\n- README includes premise/hypothesis, uv setup, generate micro-ROMs, run baselines.\n- Explain artifacts under bench/runs/ and how to interpret SPS.\n\nAcceptance\n- README provides a minimal runbook for pyboy_single and pyboy_vec_mp.\n\nRefs\n- history/m0-epics.md (Story 9.1)\n- history/prd.md (Section 15: marketing deliverables)\n- ARCHITECTURE.md (Section 15: docs)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-21T09:12:41.312595415Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.094158630Z","deleted_at":"2026-01-21T09:15:23.094149174Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1sv","title":"Story 4.2: Add micro-ROM suite file","description":"Scope\n- Add bench/roms/suite.yaml listing at least two ROMs.\n- Each entry includes id/name, relative path, step config fields, and description.\n\nAcceptance\n- suite.yaml is consumed by harness and resolves ROM paths under bench/roms/out/.\n\nRefs\n- history/m0-epics.md (Story 4.2)\n- history/prd.md (Section 10.1: verification scope)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.889092074Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.052548945Z","deleted_at":"2026-01-21T09:15:23.052538897Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1t7","title":"Epic 2: Makefile + commit-hook automation","description":"Goal\n- Provide fast, consistent local gates via Makefile and pre-commit hook.\n\nScope\n- Makefile targets for setup/fmt/lint/test/roms/bench/smoke/verify/check/hooks.\n- Hook installer via git config core.hooksPath.\n- Smoke target for quick sanity.\n\nAcceptance\n- make setup/test/bench/verify/check work via uv run.\n- Pre-commit hook exists and runs make check.\n- Hook output is actionable and failures are clear.\n\nRefs\n- history/epic2.md\n- history/m0-epics.md (Epic 2)\n- ARCHITECTURE.md (Sections 11.4-11.5)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-21T11:09:55.397940539Z","created_by":"bkase","updated_at":"2026-01-21T11:14:25.428250136Z","closed_at":"2026-01-21T11:14:25.428196022Z","close_reason":"All stories (2.1, 2.2, 2.3) completed","compaction_level":0,"original_size":0}
{"id":"bd-1ts","title":"WS4: extend VecBackend read_memory + pyboy_single","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T07:45:14.619238124Z","created_by":"bkase","updated_at":"2026-01-22T07:46:04.235072122Z","closed_at":"2026-01-22T07:46:04.235015864Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1ue","title":"Story 4.1: Implement micro-ROM builder","description":"Scope\n- Implement bench/roms/build_micro_rom.py to generate at least ALU_LOOP.gb and MEM_RWB.gb.\n- Output location: bench/roms/out/.\n\nAcceptance\n- ROMs load and execute under PyBoy headless without crashing for a small step count.\n\nRefs\n- history/m0-epics.md (Story 4.1)\n- history/prd.md (Section 12: E1-E3 ROMs)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.783108381Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.088489035Z","deleted_at":"2026-01-21T09:15:23.088479275Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1uu","title":"WS7: Bench-gpu report pipeline + README update","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:43:16.700970602Z","created_by":"bkase","updated_at":"2026-01-22T14:49:10.191224899Z","closed_at":"2026-01-22T14:49:10.191198627Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1vo","title":"WS5: verify-mismatch gate for repro bundles","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T09:18:34.454848260Z","created_by":"bkase","updated_at":"2026-01-22T09:28:40.651580429Z","closed_at":"2026-01-22T09:28:40.651523996Z","close_reason":"Add stub_bad backend + make verify-mismatch","compaction_level":0,"original_size":0}
{"id":"bd-1xn","title":"WS3: Implement CUDA slice-copy read_memory","description":"WarpVecCudaBackend.read_memory uses wp.copy with src_offset/count into a small CPU buffer.\n\nDoD:\n- No full-buffer .numpy() on CUDA; only requested range copied.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T12:34:50.730503244Z","created_by":"bkase","updated_at":"2026-01-22T13:49:49.808115588Z","closed_at":"2026-01-22T13:49:49.808059204Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1xn","depends_on_id":"bd-11d","type":"parent-child","created_at":"2026-01-22T12:34:50.741559927Z","created_by":"bkase"}]}
{"id":"bd-1xy","title":"WS2: Add CUDA warmup path","description":"Add a CUDA warmup function so CUDA benchmarks don't include first-time kernel compilation.\n\nImplementation note: warmup should be per-device (CPU warmup must not accidentally mark CUDA warmed, and vice versa).","acceptance_criteria":"1) Add `warmup_warp_cuda(device=\"cuda:0\")` that allocates minimal buffers on CUDA, launches `cpu_step` once, then synchronizes.\n2) Warmup tracking is per-device (CPU and CUDA warmup are independent).\n3) Called from `WarpVecCudaBackend` init or first reset on DGX.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:34:48.738616828Z","created_by":"bkase","updated_at":"2026-01-22T13:28:51.655001667Z","closed_at":"2026-01-22T13:28:51.654975523Z","close_reason":"Implemented per-device warmup_warp_cuda","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1xy","depends_on_id":"bd-39h","type":"parent-child","created_at":"2026-01-22T12:34:48.745514935Z","created_by":"bkase"}]}
{"id":"bd-1yb","title":"WS6: Capture GPU + driver info in mismatch bundles","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:26:07.727319160Z","created_by":"bkase","updated_at":"2026-01-22T14:28:25.744843683Z","closed_at":"2026-01-22T14:28:25.744784944Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-1ze","title":"Epic5 (optional): Action mapping constants","description":"Optional: Add action mapping constants/helper in common.py to keep action meanings stable across backends (noop/up/down/left/right/A/B/start/select).\n\nAcceptance:\n- Single canonical mapping used by pyboy_single and future backends.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T14:24:26.045455855Z","created_by":"bkase","updated_at":"2026-01-21T14:48:08.766212211Z","closed_at":"2026-01-21T14:48:08.766184851Z","close_reason":"Added action mapping constants and action_to_button helper","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ze","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:26.052653716Z","created_by":"bkase"}]}
{"id":"bd-21b","title":"WS1: Validate uv sync behavior on linux/aarch64 and macOS","description":"Execute/install validation once WS1 changes land.\\n\\nDoD:\\n- On linux/aarch64 (DGX Spark): uv sync installs Warp from pinned cu13 URL; proof captured via direct_url.json and warp init.\\n- On macOS: uv sync works with no special steps (Warp from registry).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:25:25.380593584Z","created_by":"bkase","updated_at":"2026-01-22T13:13:29.717260369Z","closed_at":"2026-01-22T13:13:29.717232497Z","close_reason":"macOS validation passed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-21b","depends_on_id":"bd-1ju","type":"blocks","created_at":"2026-01-22T12:26:32.349786267Z","created_by":"bkase"},{"issue_id":"bd-21b","depends_on_id":"bd-t7w","type":"parent-child","created_at":"2026-01-22T12:25:25.387554616Z","created_by":"bkase"}],"comments":[{"id":5,"issue_id":"bd-21b","author":"bkase","text":"DGX Spark validation: uv sync --frozen installed warp-lang==1.11.0+cu13 from direct URL. warp init shows CUDA Toolkit 13.0 / Driver 13.0; devices include cuda:0. direct_url.json points to https://github.com/NVIDIA/warp/releases/download/v1.11.0/warp_lang-1.11.0+cu13-py3-none-manylinux_2_34_aarch64.whl.\\nMacOS validation still pending.","created_at":"2026-01-22T12:40:40Z"},{"id":6,"issue_id":"bd-21b","author":"bkase","text":"macOS validation reported: warp version 1.11.0; CUDA not enabled; devices ['cpu']; direct_url.json: None (expected for PyPI).","created_at":"2026-01-22T13:13:29Z"}]}
{"id":"bd-22a","title":"Doc: add mem-region verify example","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-22T09:00:09.532358140Z","created_by":"bkase","updated_at":"2026-01-22T09:00:52.578403091Z","closed_at":"2026-01-22T09:00:52.578376323Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-23z","title":"Epic 7: Harness CLI for benchmark + reporting","description":"Goal\n- Provide a single harness CLI to run baselines and emit structured JSON results.\n\nScope\n- CLI options for backend selection, ROM/suite, steps/warmup, output dir.\n- Scaling run support with env-counts list.\n- Deterministic action generation recorded in artifacts.\n\nAcceptance\n- pyboy_single and pyboy_vec_mp runs produce JSON artifacts under bench/runs/.\n- Artifacts include schema_version and required fields.\n\nRefs\n- history/m0-epics.md (Epic 7)\n- history/prd.md (Sections 11, 12, 19)\n- ARCHITECTURE.md (Sections 2.2, 4, 8)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:39.954255465Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.108992700Z","deleted_at":"2026-01-21T09:15:23.108983164Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-254","title":"WS5: CUDA correctness vs PyBoy micro-ROMs","description":"Fix CPU-vs-CUDA semantic differences so verify passes for ALU_LOOP and MEM_RWB on DGX.\n\nDoD:\n- make verify-gpu passes on DGX repeatedly.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-22T12:34:53.587583700Z","created_by":"bkase","updated_at":"2026-01-22T14:19:44.318252403Z","closed_at":"2026-01-22T14:19:44.318225427Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-254","depends_on_id":"bd-11d","type":"blocks","created_at":"2026-01-22T12:34:54.545248843Z","created_by":"bkase"},{"issue_id":"bd-254","depends_on_id":"bd-39h","type":"blocks","created_at":"2026-01-22T12:34:54.086057267Z","created_by":"bkase"}]}
{"id":"bd-27f","title":"Epic8: Verify-mode bundle test","description":"Add an end-to-end test for verify mode and mismatch bundle creation.\n\nScope:\n- Run bench/harness.py --verify with ref=pyboy_single, dut=warp_vec stub, small verify_steps (e.g., 4).\n- Assert non-zero exit.\n- Assert bundle directory exists with required files: metadata.json, ref_state.json, dut_state.json, diff.json, actions.jsonl, repro.sh.\n- Validate metadata includes required keys and repro.sh uses uv run + --actions-file.\n\nAcceptance:\n- Test is deterministic and fast; failures are actionable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:24.436051199Z","created_by":"bkase","updated_at":"2026-01-21T15:30:53.387140072Z","closed_at":"2026-01-21T15:30:53.387081959Z","close_reason":"Added 6 tests for state diff and mismatch bundle (TestStateDiff, TestMismatchBundle)","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-27f","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:24.452571542Z","created_by":"bkase"}]}
{"id":"bd-27l","title":"WS4: Add --sync-every CLI + default for CUDA","description":"Introduce --sync-every K flag; default to 64 for CUDA benchmark runs.\n\nDoD:\n- CLI arg wired; default applied only on CUDA bench.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:34:52.634288174Z","created_by":"bkase","updated_at":"2026-01-22T14:06:12.066223578Z","closed_at":"2026-01-22T14:06:12.066166554Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-27l","depends_on_id":"bd-2hw","type":"parent-child","created_at":"2026-01-22T12:34:52.641518137Z","created_by":"bkase"}]}
{"id":"bd-27o","title":"WS3: Add DGX test for mem-region read","description":"Add/extend tests to read a small range (e.g., C000:C100) on CUDA and compare expected bytes.\n\nDoD:\n- CUDA test passes on DGX.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:34:51.187113675Z","created_by":"bkase","updated_at":"2026-01-22T13:51:03.557359842Z","closed_at":"2026-01-22T13:51:03.557305218Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-27o","depends_on_id":"bd-11d","type":"parent-child","created_at":"2026-01-22T12:34:51.194233014Z","created_by":"bkase"}]}
{"id":"bd-27r","title":"Epic4: Tests for ROM generation + headless PyBoy smoke","description":"Implement tests/test_micro_roms.py to verify ROM generation and headless execution.\n\nTests (fast + deterministic):\n- Build ROMs into temp dir; assert files exist and non-zero.\n- Validate header checksum and global checksum against recomputed values.\n- PyBoy headless smoke: load ROMs with window=\"null\", sound_emulated=False; set_emulation_speed(0); tick a small number of frames; stop without saving.\n\nAcceptance:\n- Tests pass on CPU-only (macOS/cloud).\n- Clear failure messages for checksum mismatches or PyBoy load issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:23:09.723360864Z","created_by":"bkase","updated_at":"2026-01-21T14:45:20.516797206Z","closed_at":"2026-01-21T14:45:20.516739350Z","close_reason":"Added comprehensive tests for ROM generation and PyBoy headless smoke","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-27r","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:23:09.739434677Z","created_by":"bkase"}]}
{"id":"bd-289","title":"WS5: Makefile verify profiles + proper exit codes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T09:18:34.023305560Z","created_by":"bkase","updated_at":"2026-01-22T09:25:57.088758910Z","closed_at":"2026-01-22T09:25:57.088733054Z","close_reason":"Add make verify + verify-smoke (warp_vec_cpu; exit codes)","compaction_level":0,"original_size":0}
{"id":"bd-28i","title":"Epic3: Define run metadata schema + JSON conversion","description":"Add run metadata schema dataclasses and JSON conversion helpers (stdlib json only).\n\nScope (likely in common.py):\n- RESULT_SCHEMA_VERSION = 1.\n- Dataclasses: SystemInfo, RunConfig, RunResult (as per epic345.md).\n- run_artifact_to_json_dict(...) or to_json_dict methods with tuple->list conversion and JSON-safe values.\n- Include fields: backend/device, rom_path/sha256, stage, num_envs, frames_per_step, release_after_frames, steps, warmup_steps, actions_seed, sync_every; results: measured_steps, seconds, total_sps, per_env_sps, frames_per_sec.\n\nAcceptance:\n- json.dumps on the output dict works without custom encoders.\n- Schema keys are stable and explicit.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:27.955478162Z","created_by":"bkase","updated_at":"2026-01-21T14:22:12.572629882Z","closed_at":"2026-01-21T14:22:12.572602666Z","close_reason":"Added run metadata schema: SystemInfo, RunConfig, RunResult dataclasses + run_artifact_to_json_dict","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-28i","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:27.971356841Z","created_by":"bkase"}]}
{"id":"bd-297","title":"WS1: Add [tool.uv.sources] warp-lang override with arch-aware markers","description":"Update pyproject.toml to force Warp cu13 wheel(s) on Linux using uv sources + markers, while keeping macOS on PyPI.\\n\\nKey requirement (from M3 arch doc): keep dependencies = [\"warp-lang>=...\"] and add a tool.uv.sources override.\\n\\nSpecial constraint:\\n- DGX Spark is linux/aarch64, so markers must cover that platform.\\n\\nDoD:\\n- pyproject.toml contains a uv source override for warp-lang using marker(s) that select cu13 wheel(s) on linux/aarch64 (and optionally linux/x86_64).\\n- macOS resolution remains registry-based (no URL source selected).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T12:25:24.530295787Z","created_by":"bkase","updated_at":"2026-01-22T12:38:20.074485605Z","closed_at":"2026-01-22T12:38:20.074429909Z","close_reason":"Added uv source overrides for Linux cu13 wheels","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-297","depends_on_id":"bd-29w","type":"blocks","created_at":"2026-01-22T12:26:31.369866008Z","created_by":"bkase"},{"issue_id":"bd-297","depends_on_id":"bd-t7w","type":"parent-child","created_at":"2026-01-22T12:25:24.537614117Z","created_by":"bkase"}],"comments":[{"id":2,"issue_id":"bd-297","author":"bkase","text":"Added [tool.uv.sources] warp-lang overrides with arch-aware Linux markers for cu13 wheels (aarch64 + x86_64). Keeps macOS on PyPI.","created_at":"2026-01-22T12:38:13Z"}]}
{"id":"bd-299","title":"Story 1.3: Provide uv-only run interface","description":"Scope\n- Document canonical commands using uv run.\n- Add minimal README quickstart (uv sync, uv run pytest, uv run python -m gbxcule).\n- Add tests/test_imports.py to assert importability and __version__.\n\nAcceptance\n- uv run pytest -q passes (import test).\n- uv run python -m gbxcule prints guidance.\n\nRefs\n- history/epic1.md (Story 1.3)\n- history/m0-epics.md (Epic 1 acceptance)\n- CONSTITUTION.md (Section I: verifiable rewards; Section III: shift-left)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:37.972959111Z","created_by":"bkase","updated_at":"2026-01-21T09:21:08.121252407Z","closed_at":"2026-01-21T09:21:08.121193975Z","close_reason":"Implemented: README quickstart, tests/test_imports.py, all acceptance criteria pass","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-299","depends_on_id":"bd-2sn","type":"parent-child","created_at":"2026-01-21T09:12:37.980455451Z","created_by":"bkase"}]}
{"id":"bd-29w","title":"WS1: Select pinned Warp cu13 wheel URL(s) for linux/aarch64","description":"DGX Spark is arm-based (aarch64). Identify the exact Warp CUDA 13 (cu13) wheel release asset URL(s) to pin for Linux installs.\\n\\nNotes:\\n- Prefer pinning a specific Warp version (likely match current lock unless upgrading intentionally).\\n- Ensure wheel tag matches linux/aarch64 and project Python (>=3.11).\\n- Optional: also pin linux/x86_64 cu13 URL if we want to support both Linux arches.\\n\\nDoD:\\n- Concrete URL(s) recorded (aarch64 required; x86_64 decision documented).\\n- Version pin rationale documented.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T12:25:24.088190005Z","created_by":"bkase","updated_at":"2026-01-22T12:37:45.119631051Z","closed_at":"2026-01-22T12:37:45.119604731Z","close_reason":"Selected cu13 URLs (aarch64 + x86_64)","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-29w","depends_on_id":"bd-t7w","type":"parent-child","created_at":"2026-01-22T12:25:24.104158733Z","created_by":"bkase"}],"comments":[{"id":1,"issue_id":"bd-29w","author":"bkase","text":"Selected Warp v1.11.0 cu13 wheel URLs (match current uv.lock version to avoid upgrade):\\n- aarch64: https://github.com/NVIDIA/warp/releases/download/v1.11.0/warp_lang-1.11.0+cu13-py3-none-manylinux_2_34_aarch64.whl\\n- x86_64: https://github.com/NVIDIA/warp/releases/download/v1.11.0/warp_lang-1.11.0+cu13-py3-none-manylinux_2_28_x86_64.whl\\nRationale: keeps macOS on PyPI; Linux (aarch64/x86_64) uses cu13.\\nSources: NVIDIA/warp install docs + release assets.","created_at":"2026-01-22T12:37:40Z"}]}
{"id":"bd-2bz","title":"WS1: Add DGX Spark setup docs (uv sync + provenance proof)","description":"Add docs (docs/DGX_SETUP.md or README section) describing the canonical DGX Spark install steps and how to prove Warp came from the pinned cu13 URL (PEP 610 direct_url.json).\\n\\nDoD:\\n- Doc includes commands for: uv sync, importing warp, initializing CUDA, and printing direct_url.json (if present).\\n- Doc calls out DGX Spark is linux/aarch64.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:25:33.400539982Z","created_by":"bkase","updated_at":"2026-01-22T12:40:01.054328123Z","closed_at":"2026-01-22T12:40:01.054300490Z","close_reason":"DGX Spark setup doc added","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-2bz","depends_on_id":"bd-t7w","type":"parent-child","created_at":"2026-01-22T12:25:33.420425908Z","created_by":"bkase"}],"comments":[{"id":4,"issue_id":"bd-2bz","author":"bkase","text":"Added docs/DGX_SETUP.md with uv sync, warp init, and PEP 610 direct_url.json provenance checks for linux/aarch64.","created_at":"2026-01-22T12:39:54Z"}]}
{"id":"bd-2d4","title":"WS7: Implement scaling summary script","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:43:04.096043905Z","created_by":"bkase","updated_at":"2026-01-22T14:45:30.595774247Z","closed_at":"2026-01-22T14:45:30.595748839Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-2e3","title":"Workstream 3: Warp CPU subset + cycle accounting","description":"Goal: implement W3 for M2 (CPU interpreter subset + frame/cycle accounting) and pass verify vs pyboy_single on ALU_LOOP + MEM_RWB.\n\nLOCKED SPEC (opcode subset from pastraiser table):\n- 00 NOP (len=1 cyc=4 flags ----)\n- C3 JP a16 (len=3 cyc=16 flags ----)\n- 18 JR r8 (len=2 cyc=12 flags ----)\n- 3E LD A,d8 (len=2 cyc=8 flags ----)\n- 06 LD B,d8 (len=2 cyc=8 flags ----)\n- 21 LD HL,d16 (len=3 cyc=12 flags ----)\n- 3C INC A (len=1 cyc=4 flags Z0H-)\n- 04 INC B (len=1 cyc=4 flags Z0H-)\n- 23 INC HL (len=1 cyc=8 flags ----)\n- 80 ADD A,B (len=1 cyc=4 flags Z0HC)\n- 77 LD (HL),A (len=1 cyc=8 flags ----)\n- 46 LD B,(HL) (len=1 cyc=8 flags ----)\n\nFlag rules: always mask F low nibble (F &= 0xF0). INC: Z=(res==0), N=0, H=((old&0x0F)==0x0F), C unchanged. ADD: Z=(res==0), N=0, H=((A&0x0F)+(B&0x0F)>0x0F), C=(A+B>0xFF).\nPC/immediates: d16 little-endian; JR r8 signed relative to PC after fetch (PC+2).\nFrame stepping: cycles from opcode table; CYCLES_PER_FRAME=70224; maintain cycle_in_frame carry; step(frames_per_step) completes exactly that many frame boundaries (carry preserved).\n\nPlan:\n1) Add fast boot ROM file bench/roms/bootrom_fast_dmg.bin (256 bytes: JP 0x0100 then NOPs).\n2) Use bootrom_fast_dmg.bin in pyboy_single (and pyboy_vec_mp if needed) to bypass real DMG boot.\n3) Reset/ROM load semantics in warp_vec_cpu: load cartridge ROM into mem[0:rom_len], then overlay bootrom[0:0x100]. Initialize regs to 0, PC=0x0000, SP=0x0000.\n4) Implement Warp CPU state buffers (PC, SP, A,B,C,D,E,H,L,F, cycle_count, instr_count, cycle_in_frame) + per-env 64KB mem.\n5) Implement cpu_step kernel for the 12 opcodes + flags + memory reads/writes + PC updates.\n6) Implement frame stepping loop in warp_vec_cpu.step() using kernel(s); ensure determinism.\n7) Update get_cpu_state() to expose counters; normalize flags.\n8) Add unit tests for opcode behavior + flags + JR sign + cycle accounting.\n9) Add integration verify tests: pyboy_single vs warp_vec_cpu passes ALU_LOOP then MEM_RWB (frames_per_step=1, compare_every=1).\n10) Run make test / make check and fix until all tests pass.\n\nAcceptance: harness verify passes for ALU_LOOP + MEM_RWB; mismatch bundles include counters; make check <=2 minutes.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T05:41:30.823791410Z","created_by":"bkase","updated_at":"2026-01-22T05:57:26.147256955Z","closed_at":"2026-01-22T05:57:26.147231386Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-2eq","title":"WS7: bench-gpu release-after-frames default","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:52:20.348415015Z","created_by":"bkase","updated_at":"2026-01-22T14:52:44.307883037Z","closed_at":"2026-01-22T14:52:44.307828093Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-2fi","title":"Workstream 1: Warp CPU bring-up (E0 plumbing)","description":"Plan: 1) Add backend warp_vec_cpu and keep warp_vec alias in registry + CLI. 2) Warp runtime singleton: import warp as wp, one-time wp.init(), CPU device, optional warmup launch. 3) Trivial Warp kernel inc_counter with per-env int32 buffer on reset. 4) Backend behavior: reset zeros counter + zero obs; step launches kernel + sync; get_cpu_state returns deterministic state from counter (pc/a/counters), fixed flags. 5) Pytest coverage (no importorskip): reset/step shapes, multi-env increments, determinism across identical runs. 6) Acceptance: uv run python bench/harness.py --backend warp_vec_cpu --rom bench/roms/out/ALU_LOOP.gb --steps 10 --warmup-steps 1 runs; identical config/seed yields same state progression; make check stays <=2 min.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T04:38:50.284370791Z","created_by":"bkase","updated_at":"2026-01-22T04:43:27.727886811Z","closed_at":"2026-01-22T04:43:27.727830123Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-2gp","title":"WS1: Commit reviewed WS1 plan doc","description":"Track the reviewed WS1 spec as repo documentation.\\n\\nFiles:\\n- history/m4-workstream-1-plan.md\\n\\nDoD:\\n- File is added to git in its own commit.\\n- No other unrelated untracked history docs are accidentally committed.","status":"closed","priority":3,"issue_type":"chore","created_at":"2026-01-23T04:40:58.390221070Z","created_by":"bkase","updated_at":"2026-01-23T04:43:18.521535190Z","closed_at":"2026-01-23T04:43:18.521507798Z","close_reason":"Committed plan doc","compaction_level":0,"original_size":0}
{"id":"bd-2h5","title":"Epic4: Add micro-ROM suite definition","description":"Create bench/roms/suite.yaml describing the micro-ROM suite.\n\nScope:\n- suite_version + defaults (frames_per_step=24, release_after_frames=8).\n- Entries for ALU_LOOP and MEM_RWB with id, path, description, frames_per_step, release_after_frames.\n- Keep paths explicit and stable for harness consumption.\n\nAcceptance:\n- YAML is self-describing and stable; includes all required step semantics fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:23:02.611269895Z","created_by":"bkase","updated_at":"2026-01-21T14:44:14.160626136Z","closed_at":"2026-01-21T14:44:14.160599592Z","close_reason":"Added suite.yaml with ALU_LOOP and MEM_RWB entries","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2h5","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:23:02.627022971Z","created_by":"bkase"}]}
{"id":"bd-2hw","title":"WS4: Harness sync policy for CUDA benchmarks","description":"Add --sync-every K policy so CUDA benchmarks are accurate under async kernel launches.\n\nDoD:\n- Default sync_every=64 on CUDA; always sync at end of measurement window; recorded in artifacts.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-22T12:34:51.707409420Z","created_by":"bkase","updated_at":"2026-01-22T14:09:27.593155889Z","closed_at":"2026-01-22T14:09:27.593129025Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2hw","depends_on_id":"bd-39h","type":"blocks","created_at":"2026-01-22T12:34:52.174425347Z","created_by":"bkase"}]}
{"id":"bd-2ik","title":"Epic 5: Reference baseline backend (pyboy_single)","description":"Intent: Implement the trusted single-env PyBoy backend that conforms to VecBackend, acts as correctness oracle, and provides a baseline for benchmarks.\n\nMusts (ARCHITECTURE/PRD aligned):\n- Implements VecBackend protocol exactly (reset/step/get_cpu_state/close).\n- Runs headless (window=\"null\"), CPU-only, deterministic where possible.\n- Batched outputs (num_envs=1) with correct shapes/dtypes.\n- Canonical CPU-state schema (PC/SP/A/F/B/C/D/E/H/L + flags + optional counters).\n- Fail loud if required fields not readable.\n\nDeliverables:\n- src/gbxcule/backends/pyboy_single.py\n- tests/test_pyboy_single_backend.py\n- (Optional) action mapping constants/helper in common.py\n\nAcceptance: tests validate shapes/dtypes, step semantics, get_cpu_state schema; backend closes cleanly; no hidden side effects.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:23:59.175496328Z","created_by":"bkase","updated_at":"2026-01-21T14:52:33.424243533Z","closed_at":"2026-01-21T14:52:33.424216685Z","close_reason":"Epic 5 complete: pyboy_single backend with full test coverage","compaction_level":0,"original_size":0}
{"id":"bd-2jg","title":"Story 9.2: Devlog tweet draft","description":"Scope\n- Draft devlog tweet with hypothesis, current baselines, what success looks like.\n- Include one reproducible command and a simple artifact (chart/snippet).\n\nAcceptance\n- Draft exists and is ready to post with minor edits.\n\nRefs\n- history/m0-epics.md (Story 9.2)\n- history/prd.md (Section 15: initial marketing deliverable)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-21T09:12:41.526560107Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.119911536Z","deleted_at":"2026-01-21T09:15:23.119905792Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2ke","title":"WS2 Part 2: Add POST_STEP_DISPATCH injection","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T05:47:05.604223583Z","created_by":"bkase","updated_at":"2026-01-23T05:47:05.604223583Z","compaction_level":0,"original_size":0}
{"id":"bd-2kz","title":"Chore: ignore .bv/ local caches","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-22T09:18:33.132322751Z","created_by":"bkase","updated_at":"2026-01-22T09:19:20.527396911Z","closed_at":"2026-01-22T09:19:20.527340047Z","close_reason":"Ignore beads viewer cache directory","compaction_level":0,"original_size":0}
{"id":"bd-2l8","title":"Epic6: Deterministic seeding + action handling","description":"Implement deterministic seeding and canonical action handling in pyboy_vec_mp.\n\nScope:\n- Define hash64(base_seed, env_idx, rom_sha) pure helper for per-env seed derivation.\n- Record base_seed and derived seeds in backend state (for artifact reporting later).\n- Action handling matches Epic3/Epic5 mapping: noop/up/down/left/right/A/B/start/select.\n- Enforce frames_per_step/release_after_frames semantics in workers.\n\nAcceptance:\n- With fixed base_seed, generated action traces (if any) and config fields are stable.\n- Invalid action values raise ValueError with clear message.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:31.078517131Z","created_by":"bkase","updated_at":"2026-01-21T15:03:14.148092650Z","closed_at":"2026-01-21T15:03:14.148035562Z","close_reason":"Added hash64 for per-env seed derivation, ROM SHA computation, derived seeds stored and reported in reset info","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2l8","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:31.086055042Z","created_by":"bkase"}]}
{"id":"bd-2m1","title":"Epic 3: Backend contract + shared types","description":"Intent: Define the single backend interface and shared types so the harness can run all backends uniformly, with stable shapes/dtypes, canonical CPU-state schema, and JSON-serializable run artifacts.\n\nMusts:\n- Protocol: reset/step/get_cpu_state/close (unidirectional step)\n- Batch semantics for all backends (pyboy_single behaves as batch of 1)\n- Explicit shapes/dtypes at boundaries (actions int32[num_envs], obs float32[num_envs, obs_dim], reward float32[num_envs], done/trunc bool[num_envs])\n- Canonical CPU state keys (PC/SP/A/F/B/C/D/E/H/L + flags + optional counters)\n- JSON-serializable specs + run metadata schema (stdlib json only)\n\nDeliverables:\n- src/gbxcule/backends/common.py\n- src/gbxcule/backends/__init__.py exports\n- tests/test_backends_common.py\n- (Optional) src/gbxcule/core/signatures.py helper for deterministic CPU-state hashing\n- pyproject.toml pyright strict config for common.py\n\nAcceptance: tests cover JSON serialization + boundary validation + flags derivation; pyright strict passes for common.py; no heavy deps.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:14:59.783023375Z","created_by":"bkase","updated_at":"2026-01-21T14:26:04.934886802Z","closed_at":"2026-01-21T14:26:04.934860674Z","close_reason":"Epic 3 complete: backend contract, shared types, run schema, tests, strict types, hash helper","compaction_level":0,"original_size":0}
{"id":"bd-2og","title":"Epic 2: Makefile + commit-hook automation","description":"Goal\n- Provide fast, consistent local gates via Makefile and pre-commit hook.\n\nScope\n- Makefile targets for setup/fmt/test/roms/bench/verify/check.\n- Hook installer that runs make check; branch/GPU behavior aligned to policy.\n- Smoke target for quick sanity.\n\nAcceptance\n- make setup/test/bench/verify/check work via uv run.\n- Pre-commit hook exists and runs make check.\n- Hook output is actionable and failures are clear.\n\nRefs\n- history/m0-epics.md (Epic 2)\n- history/prd.md (Section 14: CI/commit hook requirements)\n- ARCHITECTURE.md (Sections 11.4-11.5: Makefile + hooks)\n- CONSTITUTION.md (Section II: tooling latency)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:38.040694701Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.116064110Z","deleted_at":"2026-01-21T09:15:23.116058254Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2ok","title":"Epic 6: pyboy_vec_mp baseline backend","description":"Goal\n- Implement the CPU multiprocessing baseline backend for throughput comparison.\n\nScope\n- pyboy_vec_mp implements VecBackend contract for N envs.\n- Deterministic run artifacts; clean startup/shutdown.\n\nAcceptance\n- Backend runs N envs and returns throughput metrics for harness reporting.\n\nRefs\n- history/m0-epics.md (Epic 6)\n- history/prd.md (Section 7: backends)\n- ARCHITECTURE.md (Section 9.2: pyboy_vec_mp)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:39.543958117Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.146524990Z","deleted_at":"2026-01-21T09:15:23.146518990Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2p9","title":"Epic 8: Verification scaffold + mismatch repro bundle","description":"Goal\n- Provide verify mode and deterministic mismatch repro bundles from day 1.\n\nScope\n- Add verify mode with ref vs dut backends.\n- Write repro bundle on mismatch and exit non-zero.\n\nAcceptance\n- Mismatch produces bundle with metadata.json, ref_state.json, dut_state.json, diff.json, repro.sh.\n- Bundle path matches bench/runs/mismatch/<timestamp>_<rom_id>_<ref>_vs_<dut>/.\n\nRefs\n- history/m0-epics.md (Epic 8)\n- history/prd.md (Section 10: mismatch automation)\n- ARCHITECTURE.md (Section 7.4: mismatch bundle)\n- CONSTITUTION.md (Sections I and V)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:40.615388578Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.142661436Z","deleted_at":"2026-01-21T09:15:23.142651931Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2q2","title":"WS6: Record Warp wheel provenance (PEP 610 direct_url)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:26:14.234343935Z","created_by":"bkase","updated_at":"2026-01-22T14:31:20.493777527Z","closed_at":"2026-01-22T14:31:20.493721093Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-2r2","title":"Epic 4: Micro-ROM generation + suite definition","description":"Goal\n- Provide deterministic, license-safe micro-ROMs for correctness and performance baselines.\n\nScope\n- ROM generator producing at least two ROMs.\n- Suite YAML listing ROMs and step config metadata.\n- Tests to validate ROM generation and basic execution under PyBoy.\n\nAcceptance\n- ROMs generate into bench/roms/out/ and run headless for a small step count.\n- suite.yaml includes id/path/description and step config fields.\n\nRefs\n- history/m0-epics.md (Epic 4)\n- history/prd.md (Section 7: micro-ROM suite; Section 10: verification scope)\n- ARCHITECTURE.md (Section 10: E1-E3 micro-ROM staging)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:38.672581690Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.132322699Z","deleted_at":"2026-01-21T09:15:23.132316955Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2sm","title":"Epic 6: pyboy_vec_mp CPU multiprocessing backend","description":"Intent: ship an honest CPU multiprocessing baseline that implements VecBackend, scales across workers, and is reliable (no hangs/zombies).\n\nKey refs to read: ARCHITECTURE.md, CONSTITUTION.md, history/epic6789.md, src/gbxcule/backends/common.py, bench/roms/suite.yaml, src/gbxcule/backends/pyboy_single.py.\n\nMusts:\n- VecBackend protocol compliance with batched outputs (num_envs>=1).\n- Deterministic seeding policy (base_seed -> per-env seed) recorded in config.\n- Step semantics: frames_per_step=24, release_after_frames=8.\n- Robust process lifecycle: detect worker failure, close/join with timeouts, terminate fallback.\n\nDeliverables:\n- src/gbxcule/backends/pyboy_vec_mp.py\n- tests: MP reliability + smoke\n\nAcceptance: backend steps small workloads without hang; correct shapes/dtypes; closes cleanly; fast tests (<2 min gate).","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:41:17.337595967Z","created_by":"bkase","updated_at":"2026-01-21T15:07:20.653194673Z","closed_at":"2026-01-21T15:07:20.653168289Z","close_reason":"Epic 6 complete: pyboy_vec_mp backend with full test coverage (98 total tests)","compaction_level":0,"original_size":0}
{"id":"bd-2sn","title":"Epic 1: Repo scaffolding and uv-only workflow","description":"Goal\n- Establish repo structure, uv-only workflow, and import-safe placeholders.\n\nScope\n- Create required directory tree and placeholder modules.\n- Define pyproject.toml and uv.lock using uv-only workflow.\n- Document uv-only run interface and add minimal import test.\n\nAcceptance\n- Repo matches PRD structure and imports cleanly.\n- uv sync creates environment; uv run python -c \"import gbxcule\" succeeds.\n- README documents uv-only workflow.\n\nRefs\n- history/epic1.md (Epic 1 DoD + stories)\n- history/prd.md (Section 6: Repo structure; Section 14: CI/commit hook expectations)\n- ARCHITECTURE.md (Section 11.1: uv-only; Section 11.4: Makefile as interface)\n- CONSTITUTION.md (Sections II, IV, VI)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:37.786288886Z","created_by":"bkase","updated_at":"2026-01-21T09:21:09.903236413Z","closed_at":"2026-01-21T09:21:09.903180413Z","close_reason":"All child stories (1.1, 1.2, 1.3) completed","compaction_level":0,"original_size":0}
{"id":"bd-2t2","title":"Epic4: Implement micro-ROM builder (deterministic + valid headers)","description":"Implement bench/roms/build_micro_rom.py with pure helpers and deterministic ROM generation.\n\nScope:\n- Pure helpers: compute_header_checksum, compute_global_checksum, sha256_bytes.\n- build_rom(title, program) builds 32KiB ROM with valid header and checksums.\n- Two deterministic program payloads: ALU_LOOP and MEM_RWB (ALU loop + WRAM R/W loop).\n- Atomic write to bench/roms/out (tmp + rename).\n- CLI wrapper prints paths, sha256, size; supports --out-dir.\n\nAcceptance:\n- Deterministic outputs for same inputs (sha256 stable).\n- Valid Nintendo logo + header/global checksum per Pan Docs.\n- No external deps beyond stdlib.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:22:55.640771582Z","created_by":"bkase","updated_at":"2026-01-21T14:43:33.932095838Z","closed_at":"2026-01-21T14:43:33.932068142Z","close_reason":"Implemented micro-ROM builder with checksums, sha256, atomic write, CLI","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2t2","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:22:55.657075841Z","created_by":"bkase"}]}
{"id":"bd-2u0","title":"Epic7: Deterministic action generation (pure)","description":"Implement pure action generation and optional recording.\n\nScope:\n- generate_actions(step_idx, num_envs, seed, gen_name, gen_version) -> int32[num_envs].\n- Support noop + seeded_random generators; record name/version/seed in config.\n- Ensure batch semantics even for single-env.\n\nAcceptance:\n- Deterministic outputs given same inputs; no side effects.\n- Action generator metadata included in artifacts.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:26.281398932Z","created_by":"bkase","updated_at":"2026-01-21T15:15:38.887983067Z","closed_at":"2026-01-21T15:15:38.887927002Z","close_reason":"Implemented pure generate_actions function with noop and seeded_random generators. Added 12 tests for determinism.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2u0","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:26.296952727Z","created_by":"bkase"}]}
{"id":"bd-2up","title":"Story 2.2: Add commit-hook(s) that call Makefile targets","description":"Scope\n- Add tools/install_git_hooks.py to install pre-commit hook.\n- Hook runs make check (or make check-main on DGX main branch per policy).\n- Document hook installation.\n\nAcceptance\n- .git/hooks/pre-commit runs make check.\n- Hook failure output is actionable.\n\nRefs\n- history/m0-epics.md (Story 2.2)\n- ARCHITECTURE.md (Section 11.5: Git hooks policy)\n- CONSTITUTION.md (Section III: shift-left)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.205862583Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.155127575Z","deleted_at":"2026-01-21T09:15:23.155121927Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2wk","title":"Story 6.1: Implement pyboy_vec_mp backend","description":"Scope\n- Implement multiprocessing backend with num_envs and num_workers.\n- Keep IPC minimal for benchmarking.\n\nAcceptance\n- reset/step/close implemented and usable by harness.\n- Deterministic artifacts for comparable runs.\n\nRefs\n- history/m0-epics.md (Story 6.1)\n- ARCHITECTURE.md (Section 9.2: implementation guidance)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.680092755Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.048519389Z","deleted_at":"2026-01-21T09:15:23.048513597Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2x5","title":"Story 4.3: Tests for ROM generation","description":"Scope\n- Add tests/test_micro_roms.py to generate ROMs and step PyBoy headless.\n- Assert ROM files exist in bench/roms/out/.\n\nAcceptance\n- uv run pytest -q passes and validates ROM generation.\n\nRefs\n- history/m0-epics.md (Story 4.3)\n- CONSTITUTION.md (Section III: shift-left testing)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.007998517Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.065243565Z","deleted_at":"2026-01-21T09:15:23.065234141Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2xn","title":"Epic8: Mismatch repro bundle writer (atomic)","description":"Implement mismatch bundle writer in bench/harness.py or a helper module.\n\nScope:\n- MISMATCH_SCHEMA_VERSION=1 metadata.json with required keys (rom sha, backends, seeds, compare_every, step semantics, system info, commit sha).\n- Write ref_state.json, dut_state.json, diff.json, actions.jsonl, repro.sh.\n- Use temp dir + rename for atomicity.\n- repro.sh uses uv-only invocation and prefers --actions-file replay.\n\nAcceptance:\n- Bundle path: bench/runs/mismatch/<timestamp>_<rom_id>_<ref>_vs_<dut>/\n- JSON-only files; repro.sh executable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:02.928980797Z","created_by":"bkase","updated_at":"2026-01-21T15:28:39.109307997Z","closed_at":"2026-01-21T15:28:39.109281996Z","close_reason":"Implemented atomic mismatch bundle writer with metadata.json, ref/dut states, diff, actions.jsonl, and executable repro.sh.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2xn","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:02.944612883Z","created_by":"bkase"}]}
{"id":"bd-2xt","title":"Epic3: Export shared types from backends package","description":"Update src/gbxcule/backends/__init__.py to re-export the shared contract and types.\n\nScope:\n- Export VecBackend, BackendSpec, ArraySpec, StepOutput, CpuState, CpuFlags, Device, Stage, and run schema dataclasses/constants.\n- Add __all__ for stable import surface.\n\nAcceptance:\n- from gbxcule.backends import VecBackend, BackendSpec works in tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:35.145658007Z","created_by":"bkase","updated_at":"2026-01-21T14:22:57.820749066Z","closed_at":"2026-01-21T14:22:57.820677386Z","close_reason":"Exported all shared types from backends package with __all__","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2xt","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:35.162067854Z","created_by":"bkase"}]}
{"id":"bd-2ym","title":"WS1: Update tests + Make targets for codec-aware action ranges","description":"Update tests and Make targets to use backend-provided action range and new --action-codec flag where needed.\\n\\nImplementation:\\n- tests/conftest.py: stop importing ACTION_NOOP/NUM_ACTIONS; use backend.num_actions and simple safe valid actions\\n- Update any tests with hard-coded action indices to be codec-agnostic\\n- Makefile: if/when default codec changes, ensure verify profiles remain step-exact (esp frames_per_step=1)\\n\\nDoD:\\n- Full test suite passes.\\n- No tests assume NUM_ACTIONS==9.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T04:41:46.964052431Z","created_by":"bkase","updated_at":"2026-01-23T05:03:29.489909023Z","closed_at":"2026-01-23T05:03:29.489882495Z","close_reason":"Updated tests to use backend.num_actions","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2ym","depends_on_id":"bd-1f5","type":"blocks","created_at":"2026-01-23T04:42:25.439527705Z","created_by":"bkase"},{"issue_id":"bd-2ym","depends_on_id":"bd-1ps","type":"blocks","created_at":"2026-01-23T04:42:26.604226398Z","created_by":"bkase"},{"issue_id":"bd-2ym","depends_on_id":"bd-32r","type":"blocks","created_at":"2026-01-23T04:42:24.865450970Z","created_by":"bkase"},{"issue_id":"bd-2ym","depends_on_id":"bd-3g5","type":"blocks","created_at":"2026-01-23T04:42:27.892776312Z","created_by":"bkase"},{"issue_id":"bd-2ym","depends_on_id":"bd-6df","type":"blocks","created_at":"2026-01-23T04:42:27.216101738Z","created_by":"bkase"},{"issue_id":"bd-2ym","depends_on_id":"bd-a7j","type":"blocks","created_at":"2026-01-23T04:42:25.995848113Z","created_by":"bkase"}]}
{"id":"bd-2z2","title":"Story 1.2: Establish uv-based dependency management","description":"Scope\n- Add pyproject.toml with runtime + dev deps and uv settings.\n- Generate and commit uv.lock.\n- Configure uv environments for macOS + Linux only.\n- Document lock discipline (uv sync / uv run --locked behavior).\n\nAcceptance\n- uv sync works on macOS and Linux.\n- uv run python -c \"import gbxcule\" succeeds.\n- uv lock --check passes.\n\nRefs\n- history/epic1.md (Story 1.2)\n- history/prd.md (Section 6: Repo structure; Section 14: CI expectations)\n- ARCHITECTURE.md (Section 11.1: uv-only; Section 12: deps)\n- CONSTITUTION.md (Section IV: immutable runtime)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:37.909545271Z","created_by":"bkase","updated_at":"2026-01-21T09:21:06.392715513Z","closed_at":"2026-01-21T09:21:06.392646281Z","close_reason":"Implemented: pyproject.toml and uv.lock created, uv sync works","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2z2","depends_on_id":"bd-2sn","type":"parent-child","created_at":"2026-01-21T09:12:37.917022826Z","created_by":"bkase"}]}
{"id":"bd-30j","title":"WS7: Cap pyboy_vec_mp workers in scaling sweep","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:42:58.577757626Z","created_by":"bkase","updated_at":"2026-01-22T14:44:00.899900378Z","closed_at":"2026-01-22T14:44:00.899844745Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-32r","title":"WS1: Add core action codec module + tests","description":"Add a pure, versioned action codec layer to make action semantics explicit and auditable.\\n\\nImplementation:\\n- Add src/gbxcule/core/action_codec.py\\n- Provide ActionCodec protocol + fixed registry\\n- Implement LegacyV0Codec (current 9-action mapping)\\n- Implement PokemonRedPufferV0Codec (7-action mapping: A,B,START,UP,DOWN,LEFT,RIGHT)\\n- Include to_pyboy_button(action) and to_joypad_mask(action) for JOYP forward-compat\\n\\nTests:\\n- Add tests/test_action_codec.py (ordering, num_actions, action_names length, mapping correctness, out-of-range behavior)\\n\\nDoD:\\n- New module is pure (no PyBoy/Warp imports).\\n- Unit tests pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T04:41:04.853118752Z","created_by":"bkase","updated_at":"2026-01-23T04:45:19.625862265Z","closed_at":"2026-01-23T04:45:19.625836073Z","close_reason":"Implemented action codec module and tests","compaction_level":0,"original_size":0}
{"id":"bd-34k","title":"Epic5: Implement get_cpu_state normalization","description":"Implement get_cpu_state(env_idx=0) using PyBoy register_file and canonical schema.\n\nScope:\n- Read PC, SP, A, F, B, C, D, E, HL; derive H/L; derive flags from F.\n- Return CpuState dict with required keys; include counters if available.\n- Validate env_idx==0 (since num_envs=1) with clear error.\n\nAcceptance:\n- Schema matches Epic3 canonical CPU state; flags correct for F bits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:24:14.200849442Z","created_by":"bkase","updated_at":"2026-01-21T14:49:51.444941911Z","closed_at":"2026-01-21T14:49:51.444886551Z","close_reason":"get_cpu_state already implemented in bd-3lk commit with canonical CpuState schema","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-34k","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:14.217486971Z","created_by":"bkase"}]}
{"id":"bd-35i","title":"Epic3: Add tests for common types + validation","description":"Create tests/test_backends_common.py covering Epic3 contract behavior.\n\nTests:\n- ArraySpec/BackendSpec JSON serialization (json.dumps succeeds).\n- validate_actions: wrong shape raises, float dtype raises, int64 safely casts to int32.\n- flags_from_f: property test with hypothesis for random f; flags match f & 0xF0 bits.\n- validate_step_output: wrong shapes/dtypes raise.\n- Run schema dataclasses: to_json_dict output is JSON-serializable and contains required keys.\n\nAcceptance:\n- Tests are fast (no PyBoy import).\n- Pytest failure messages are actionable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:40.864035488Z","created_by":"bkase","updated_at":"2026-01-21T14:24:13.060231136Z","closed_at":"2026-01-21T14:24:13.060204880Z","close_reason":"Added comprehensive tests for common types, validation, and run schema","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-35i","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:40.879791194Z","created_by":"bkase"}]}
{"id":"bd-35l","title":"WS4: Enforce end-of-window sync + record in artifacts","description":"Always synchronize at end of measurement window and write sync_every into benchmark artifacts.\n\nDoD:\n- Artifacts include sync policy fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:34:53.108951345Z","created_by":"bkase","updated_at":"2026-01-22T14:08:58.136926010Z","closed_at":"2026-01-22T14:08:58.136898923Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-35l","depends_on_id":"bd-2hw","type":"parent-child","created_at":"2026-01-22T12:34:53.115937628Z","created_by":"bkase"}]}
{"id":"bd-35z","title":"WS4: mismatch bundle + repro mem-region","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T07:45:22.604945459Z","created_by":"bkase","updated_at":"2026-01-22T07:52:47.123336874Z","closed_at":"2026-01-22T07:52:47.123281641Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-373","title":"Story 5.1: Implement pyboy_single backend","description":"Scope\n- Implement src/gbxcule/backends/pyboy_single.py to match backend contract.\n- Run headless and support frames_per_step semantics.\n\nAcceptance\n- reset/step/close implemented and usable by harness.\n- get_cpu_state returns regs with stable keys.\n\nRefs\n- history/m0-epics.md (Story 5.1)\n- ARCHITECTURE.md (Sections 4, 9.1)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.254672839Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.129009611Z","deleted_at":"2026-01-21T09:15:23.128994155Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-37b","title":"WS5: CUDA verify MEM_RWB + mem-region","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T14:15:46.948783835Z","created_by":"bkase","updated_at":"2026-01-22T14:17:47.341659358Z","closed_at":"2026-01-22T14:17:47.341631534Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-37b","depends_on_id":"bd-254","type":"parent-child","created_at":"2026-01-22T14:15:46.955413392Z","created_by":"bkase"}]}
{"id":"bd-38j","title":"Story 7.2: Add scaling run support (data-only)","description":"Scope\n- Add --env-counts to run sequential benchmarks for multiple env sizes.\n- Emit a single JSON report aggregating results by env count.\n\nAcceptance\n- Scaling JSON includes per-env-count result entries and schema_version.\n\nRefs\n- history/m0-epics.md (Story 7.2)\n- ARCHITECTURE.md (Section 8.2: metrics)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.284008985Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.098487642Z","deleted_at":"2026-01-21T09:15:23.098478026Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-38o","title":"Epic 9: Docs + devlog tweet draft","description":"Intent: Make the project runnable and legible with uv-only commands, artifact locations, and a public devlog draft.\n\nKey refs to read: README.md, ARCHITECTURE.md, CONSTITUTION.md, history/prd.md, history/epic6789.md, Makefile, bench/harness.py.\n\nMusts:\n- README explains what/why, hypothesis, and success criteria.\n- uv-only install/run commands; no alternate workflows.\n- Document micro-ROM generation, bench, verify (expected failure in M0), artifact locations.\n- Include devlog tweet draft with a reproducible command and (once available) first numbers.\n\nAcceptance: All README commands exist and run; artifact paths match actual output; tweet draft present.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:43:32.941483664Z","created_by":"bkase","updated_at":"2026-01-21T15:34:35.287836410Z","closed_at":"2026-01-21T15:34:35.287782121Z","close_reason":"Epic 9 complete: README docs, devlog tweet draft, command guard test","compaction_level":0,"original_size":0}
{"id":"bd-395","title":"Story 2.1: Add Makefile with core targets","description":"Scope\n- Add Makefile at repo root with targets: setup, fmt, lint, test, roms, bench, smoke, verify, check, hooks, help.\n- All python invocations use uv run.\n- Exclude third_party/ and generated directories from formatting.\n\nAcceptance\n- make setup runs uv sync.\n- make lint checks formatting and lint without modifying files.\n- make fmt applies formatting and autofix.\n- make test runs pytest.\n- make help prints available targets.\n\nRefs\n- history/epic2.md (Story 2.1)\n- ARCHITECTURE.md (Section 11.4)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T11:10:10.091174740Z","created_by":"bkase","updated_at":"2026-01-21T11:11:58.695413127Z","closed_at":"2026-01-21T11:11:58.695387477Z","close_reason":"Implemented: Makefile with all core targets (setup, fmt, lint, test, roms, bench, smoke, verify, check, hooks, help)","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-395","depends_on_id":"bd-1t7","type":"parent-child","created_at":"2026-01-21T11:10:10.107490146Z","created_by":"bkase"}]}
{"id":"bd-39c","title":"WS5: CUDA sync guard for state reads","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:15:50.999490507Z","created_by":"bkase","updated_at":"2026-01-22T14:19:00.745860731Z","closed_at":"2026-01-22T14:19:00.745803291Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-39c","depends_on_id":"bd-254","type":"parent-child","created_at":"2026-01-22T14:15:51.007102894Z","created_by":"bkase"}]}
{"id":"bd-39h","title":"WS2: Backend architecture (warp_vec_cuda)","description":"Introduce explicit CUDA backend without duplicating CPU code.\n\nDoD:\n- warp_vec_cuda backend runs on DGX with explicit name and device selection.\n- No unconditional synchronize in step() (bench stays async-friendly).","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-22T12:34:46.926769932Z","created_by":"bkase","updated_at":"2026-01-22T13:35:22.940065453Z","closed_at":"2026-01-22T13:35:22.940038573Z","close_reason":"Completed WS2 tasks: base refactor, CUDA backend, warmup, harness wiring, smoke test/run","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-39h","depends_on_id":"bd-t7w","type":"blocks","created_at":"2026-01-22T12:34:47.363149613Z","created_by":"bkase"}]}
{"id":"bd-3f7","title":"Epic8: Verify mode loop + state diff (pure core)","description":"Implement verify loop in bench/harness.py and pure comparison helpers.\n\nScope:\n- CLI flags: --verify, --ref-backend, --dut-backend, --verify-steps, --compare-every, --actions-file.\n- Verify loop: generate/replay actions, step both backends, compare every K steps, fail fast on mismatch.\n- Pure helpers for normalize_cpu_state and diff_states (strict equality).\n\nAcceptance:\n- Works for env_idx=0; structure generalizes later.\n- Comparison logic is deterministic and JSON-serializable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:57.016598788Z","created_by":"bkase","updated_at":"2026-01-21T15:22:00.180029101Z","closed_at":"2026-01-21T15:22:00.179972300Z","close_reason":"Implemented verify mode loop with CLI args, normalize_cpu_state, diff_states pure helpers, and run_verify runner.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3f7","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:42:57.023406736Z","created_by":"bkase"}]}
{"id":"bd-3g5","title":"WS1: Harness --action-codec + generator range + artifact metadata","description":"Update bench harness to be codec-aware for action generation, artifact recording, and mismatch repro.\\n\\nImplementation:\\n- bench/harness.py\\n  - Add --action-codec flag (explicit choices)\\n  - Resolve codec once per run/verify and pass into create_backend\\n  - Generate actions in [0, codec.num_actions) (no hard-coded 9)\\n  - Record action_codec metadata in artifacts and mismatch bundles\\n  - Include --action-codec in mismatch repro.sh\\n- Update harness tests accordingly\\n\\nDoD:\\n- tests/test_harness.py passes\\n- Existing JSON artifacts gain codec metadata without breaking schema consumers.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T04:41:39.142371612Z","created_by":"bkase","updated_at":"2026-01-23T05:01:19.884387805Z","closed_at":"2026-01-23T05:01:19.884331101Z","close_reason":"Added action codec flag, generator range, and artifact metadata","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3g5","depends_on_id":"bd-1ps","type":"blocks","created_at":"2026-01-23T04:42:18.675636673Z","created_by":"bkase"},{"issue_id":"bd-3g5","depends_on_id":"bd-32r","type":"blocks","created_at":"2026-01-23T04:42:17.350406869Z","created_by":"bkase"},{"issue_id":"bd-3g5","depends_on_id":"bd-6df","type":"blocks","created_at":"2026-01-23T04:42:19.279232475Z","created_by":"bkase"},{"issue_id":"bd-3g5","depends_on_id":"bd-a7j","type":"blocks","created_at":"2026-01-23T04:42:18.005974631Z","created_by":"bkase"}]}
{"id":"bd-3gw","title":"Epic 9: Documentation + initial devlog draft","description":"Goal\n- Provide README with setup/run instructions and draft the first devlog tweet.\n\nScope\n- README: premise + hypothesis, uv setup, how to run baselines, artifact locations.\n- Draft devlog tweet including why/where/what next and a reproducible command.\n\nAcceptance\n- README supports a curious developer to run a baseline via uv or make.\n- Devlog draft exists in docs/ or README.\n\nRefs\n- history/m0-epics.md (Epic 9)\n- history/prd.md (Section 15: marketing requirements)\n- ARCHITECTURE.md (Section 15: docs)\n- CONSTITUTION.md (Section VI: documentation as code)","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-21T09:12:41.134597968Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.137263490Z","deleted_at":"2026-01-21T09:15:23.137257730Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-3hk","title":"Epic6: get_cpu_state RPC + normalization","description":"Implement get_cpu_state(env_idx) routing to the owning worker and return canonical CpuState.\n\nScope:\n- Master determines worker/local index for env_idx.\n- Worker reads PyBoy register_file and returns dict with pc/sp/a/f/b/c/d/e/h/l + flags + optional counters.\n- Use shared helper for flags derivation (from common.py).\n- Clear error for invalid env_idx or missing fields.\n\nAcceptance:\n- Schema matches Epic3 canonical CPU state; flags correct for F bits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:38.872164269Z","created_by":"bkase","updated_at":"2026-01-21T15:03:52.945184879Z","closed_at":"2026-01-21T15:03:52.945159535Z","close_reason":"Already implemented in Story 6.1 - master routes to worker, uses flags_from_f, raises clear errors","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3hk","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:38.879234661Z","created_by":"bkase"}]}
{"id":"bd-3iy","title":"WS4: pyboy_vec_mp read_memory IPC","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T07:45:19.039898451Z","created_by":"bkase","updated_at":"2026-01-22T07:46:45.260013184Z","closed_at":"2026-01-22T07:46:45.259958078Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-3kk","title":"Epic7: Benchmark runner + artifact writer","description":"Implement benchmark timing + artifact writing (RESULT_SCHEMA_VERSION=1).\n\nScope:\n- Pure-ish RunConfig/RunResult construction using shared dataclasses (from Epic3).\n- Warmup loop excluded from timer; measured steps timed with monotonic clock.\n- SPS math: total_env_steps_per_sec and per_env_steps_per_sec; frames_per_sec computed.\n- Write JSON artifact: bench/runs/<timestamp>/<run_id>.json with config/system/results.\n- Include ROM sha256 and git commit sha if available.\n\nAcceptance:\n- JSON validates with stdlib json; schema fields stable and complete.\n- Warmup excluded; formulas correct.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:20.484127649Z","created_by":"bkase","updated_at":"2026-01-21T15:12:04.394752098Z","closed_at":"2026-01-21T15:12:04.394724690Z","close_reason":"Already implemented in Story 7.1 - added git commit SHA to system info","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3kk","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:20.499954196Z","created_by":"bkase"}]}
{"id":"bd-3lk","title":"Epic5: Implement PyBoySingle backend core","description":"Implement src/gbxcule/backends/pyboy_single.py to conform to VecBackend.\n\nScope:\n- Class PyBoySingleBackend with config: rom_path, frames_per_step=24, release_after_frames=8, obs_dim (default 32), log_level.\n- name=\"pyboy_single\", device=\"cpu\", num_envs=1, action_spec/obs_spec from common.py.\n- Lazy import PyBoy; create headless instance (window=\"null\", sound_emulated=False, set_emulation_speed(0)).\n- reset(): reinitialize emulator; return obs (float32[1, obs_dim]) + info.\n- step(actions): validate/cast int32[1]; apply action mapping (noop/up/down/left/right/A/B/start/select). Use explicit pressâ†’tickâ†’release semantics (frames_per_step, release_after_frames). Return batched obs/reward/done/trunc arrays.\n- close(): pyboy.stop(False).\n\nAcceptance:\n- Correct shapes/dtypes and batch semantics.\n- Deterministic step semantics.\n- Clear ValueError for out-of-range actions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:24:07.814200005Z","created_by":"bkase","updated_at":"2026-01-21T14:49:38.379819709Z","closed_at":"2026-01-21T14:49:38.379761693Z","close_reason":"Implemented PyBoySingleBackend with reset, step, close methods","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3lk","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:07.831585022Z","created_by":"bkase"}]}
{"id":"bd-3rn","title":"Story 2.3: Smoke target for developer sanity","description":"Scope\n- make smoke runs a minimal sanity check.\n- For M0 (before harness is implemented): smoke runs lint, test, and roms.\n- Writes output to bench/runs/smoke.json when harness is available.\n- Fast enough for commit hook (<20s).\n- Does not require GPU or multiprocessing.\n\nAcceptance\n- make smoke passes and returns non-zero on failure.\n- make check includes smoke target.\n\nRefs\n- history/epic2.md (Story 2.3)\n- ARCHITECTURE.md (Section 8)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T11:10:13.453486153Z","created_by":"bkase","updated_at":"2026-01-21T11:14:23.680490536Z","closed_at":"2026-01-21T11:14:23.680463159Z","close_reason":"Implemented: make smoke builds ROMs, included in make check","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3rn","depends_on_id":"bd-1t7","type":"parent-child","created_at":"2026-01-21T11:10:13.469212832Z","created_by":"bkase"}]}
{"id":"bd-3sc","title":"Story 3.2: Standardize run metadata schema","description":"Scope\n- Define a stable JSON schema version for run artifacts.\n- Include backend name/device, ROM id/sha, steps/warmup, seeds, env count.\n- Include system info fields for reproducibility.\n\nAcceptance\n- Harness outputs include schema_version and the required fields.\n\nRefs\n- history/m0-epics.md (Story 3.2)\n- ARCHITECTURE.md (Section 8.3: run artifact schema)\n- CONSTITUTION.md (Section V: structured logs)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.564965764Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.079321423Z","deleted_at":"2026-01-21T09:15:23.079315583Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-3st","title":"Epic9: Devlog tweet draft","description":"Add a devlog tweet draft to README (or a small docs/ file if created).\n\nScope:\n- Why (hypothesis + constraints) + where we are today (baselines/micro-ROMs/mismatch automation).\n- What success looks like (scaling + correctness).\n- Include reproducible command (make bench or uv run python bench/harness.py ...).\n- If available, paste first JSON metric (total_env_steps_per_sec) from a real run.\n\nAcceptance:\n- Draft is concise and includes a concrete command and artifact reference.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:46.197961178Z","created_by":"bkase","updated_at":"2026-01-21T15:33:10.361589100Z","closed_at":"2026-01-21T15:33:10.361533612Z","close_reason":"Devlog tweet draft added to README with first numbers, hypothesis, and reproducible commands","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3st","depends_on_id":"bd-38o","type":"parent-child","created_at":"2026-01-21T14:43:46.213654980Z","created_by":"bkase"}]}
{"id":"bd-3t1","title":"Story 2.2: Add commit-hook that calls Makefile targets","description":"Scope\n- Add .githooks/ directory tracked in repo.\n- Add .githooks/pre-commit script that runs make check.\n- Add make hooks target that runs git config core.hooksPath .githooks.\n- Hook checks for uv and prints clear error if missing.\n- Hook supports SKIP_HOOKS=1 for emergencies.\n\nAcceptance\n- git config --get core.hooksPath outputs .githooks after make hooks.\n- Pre-commit hook runs make check on commit.\n- Hook failure prints actionable message (run make fmt).\n\nRefs\n- history/epic2.md (Story 2.2)\n- ARCHITECTURE.md (Section 11.5)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T11:10:11.763118459Z","created_by":"bkase","updated_at":"2026-01-21T11:14:02.186382567Z","closed_at":"2026-01-21T11:14:02.186354854Z","close_reason":"Implemented: .githooks/pre-commit, make hooks, silent on success","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3t1","depends_on_id":"bd-1t7","type":"parent-child","created_at":"2026-01-21T11:10:11.779781660Z","created_by":"bkase"}]}
{"id":"bd-3tn","title":"Epic5: Add tests for pyboy_single backend","description":"Create tests/test_pyboy_single_backend.py.\n\nTests (fast, CPU-only):\n- Backend initializes headless, reset returns obs shape (1, obs_dim) float32.\n- step with noop returns correct shapes/dtypes for obs/reward/done/trunc.\n- get_cpu_state returns canonical keys + flags with correct bit derivation.\n- invalid action index raises ValueError.\n- close() stops emulator cleanly.\n\nAcceptance:\n- Tests run in <2 minutes and provide actionable failures.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:24:19.323140875Z","created_by":"bkase","updated_at":"2026-01-21T14:52:24.792164127Z","closed_at":"2026-01-21T14:52:24.792138175Z","close_reason":"Added 33 tests covering backend init, reset, step, get_cpu_state, invalid actions, and close","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3tn","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:19.338669508Z","created_by":"bkase"}]}
{"id":"bd-3tr","title":"Epic 4: Micro-ROM generation + suite definition","description":"Intent: Generate deterministic, license-safe micro-ROMs and a self-describing suite used for correctness and benchmarks. Ensure ROMs are valid, reproducible, and runnable in headless PyBoy.\n\nMusts (ARCHITECTURE/CONSTITUTION aligned):\n- Deterministic outputs (same generator version -> identical bytes/sha256).\n- Valid ROM headers + checksums (Nintendo logo, header/global checksum).\n- Output to bench/roms/out (gitignored) via atomic writes.\n- At least two ROMs: ALU_LOOP.gb and MEM_RWB.gb.\n- Suite file includes frames_per_step (default 24) + release_after_frames (default 8).\n- Tests are fast and reproducible; no copyrighted ROMs.\n\nDeliverables:\n- bench/roms/build_micro_rom.py\n- bench/roms/suite.yaml\n- tests/test_micro_roms.py (fully implemented)\n- (Optional) ensure bench/roms/out is ignored.\n\nAcceptance: ROM builder is pure + deterministic; checksums validated; PyBoy headless tick succeeds; suite.yaml is explicit and stable.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:22:50.054383026Z","created_by":"bkase","updated_at":"2026-01-21T14:45:48.891249142Z","closed_at":"2026-01-21T14:45:48.891223526Z","close_reason":"Epic 4 complete: ROM builder, suite.yaml, and tests all done","compaction_level":0,"original_size":0}
{"id":"bd-3w5","title":"M2 WS2: ROM loading + ABI v0 memory model (warp_vec_cpu)","description":"Implement Workstream 2 (M2): ROM loading + memory model (ABI v0 real) for the Warp CPU backend.\n\nPlan\n- Prereq: Warp CPU backend exists (warp_vec_cpu) and reset()/step() run deterministically (no correctness yet).\n- Lock ABI v0 in code: make src/gbxcule/core/abi.py authoritative (MEM_SIZE=65536, offset helpers).\n- ROM ingest: read ROM bytes once; validate rom_len <= MEM_SIZE.\n- Allocate buffers per env: flat mem u8[num_envs*MEM_SIZE] + regs arrays + instr/cycle counters.\n- Reset semantics: zero buffers, copy ROM into mem[0:rom_len] per env, set deterministic bring-up regs/counters.\n- Expose memory for tests: add debug read_memory(env_idx, lo, hi) -> bytes (and write helper).\n- Tests (fast):\n  - reset loads ROM prefix\n  - multi-env isolation\n  - counter/PC progression deterministic (already covered in existing warp_vec_cpu tests)\n  - correctness vs pyboy_single is deferred to Workstream 3\n\nAcceptance\n- uv run pytest passes\n- make check remains <=2 minutes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T05:10:54.452319499Z","created_by":"bkase","updated_at":"2026-01-22T05:24:36.130716547Z","closed_at":"2026-01-22T05:24:36.130685554Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-6df","title":"WS1: Refactor PyBoyVecMpBackend to use action codec + schedule","description":"Refactor PyBoyVecMpBackend (including worker process) to interpret actions exclusively via ActionCodec and use shared schedule helpers.\\n\\nImplementation:\\n- src/gbxcule/backends/pyboy_vec_mp.py\\n  - Add action_codec to PyBoyMpConfig and validate known codec id\\n  - Pass codec id into _worker_main and resolve codec in worker\\n  - Replace action_to_button(action) with codec.to_pyboy_button(action)\\n  - Expose backend.num_actions + backend.action_codec metadata\\n\\nDoD:\\n- Existing tests still pass under default codec.\\n- No worker pickling issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T04:41:33.177661775Z","created_by":"bkase","updated_at":"2026-01-23T04:51:32.916675647Z","closed_at":"2026-01-23T04:51:32.916649423Z","close_reason":"Updated pyboy_vec_mp to use codec + schedule helpers","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-6df","depends_on_id":"bd-1f5","type":"blocks","created_at":"2026-01-23T04:42:11.294308250Z","created_by":"bkase"},{"issue_id":"bd-6df","depends_on_id":"bd-32r","type":"blocks","created_at":"2026-01-23T04:42:10.745120676Z","created_by":"bkase"},{"issue_id":"bd-6df","depends_on_id":"bd-a7j","type":"blocks","created_at":"2026-01-23T04:42:11.910845346Z","created_by":"bkase"}]}
{"id":"bd-85t","title":"WS2: Add CUDA backend smoke test (skipped when no GPU)","description":"Add a minimal pytest smoke test for warp_vec_cuda that is skipped when CUDA is unavailable. This guards basic init/reset/step on DGX without affecting CPU-only gates.","acceptance_criteria":"1) New test file `tests/test_warp_vec_cuda_backend.py` added.\n2) Test skips cleanly when CUDA is unavailable.\n3) On DGX, test can reset, run a few steps, and read CPU state without errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T13:27:27.120723261Z","created_by":"bkase","updated_at":"2026-01-22T13:33:30.882698036Z","closed_at":"2026-01-22T13:33:30.882672020Z","close_reason":"Added CUDA backend smoke pytest","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-85t","depends_on_id":"bd-39h","type":"parent-child","created_at":"2026-01-22T13:27:27.136431867Z","created_by":"bkase"}]}
{"id":"bd-8iz","title":"Bug: prevent ROM writes in warp_vec_cpu","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-22T09:18:33.576314168Z","created_by":"bkase","updated_at":"2026-01-22T09:24:16.629629038Z","closed_at":"2026-01-22T09:24:16.629601806Z","close_reason":"Match PyBoy memory map for MEM_RWB (ROM + no-cart-RAM)","compaction_level":0,"original_size":0}
{"id":"bd-94r","title":"WS2 Part 3: Post-step templates (reward_v0, obs_v0)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T05:47:09.144032689Z","created_by":"bkase","updated_at":"2026-01-23T05:47:09.144032689Z","compaction_level":0,"original_size":0}
{"id":"bd-a7j","title":"WS1: Thread action codec through backend contract (num_actions + metadata)","description":"Thread action codec through backend contract (without breaking existing imports).\\n\\nImplementation:\\n- Update src/gbxcule/backends/common.py\\n  - Add helper(s) to resolve action codec by id\\n  - Add backend-visible fields: num_actions and action_codec metadata (name/version)\\n  - Keep existing ACTION_* / NUM_ACTIONS exports for now (treat as legacy_v0) to avoid breaking tests and external imports\\n- Update src/gbxcule/backends/__init__.py exports accordingly\\n- Update stub_bad and warp_vec action validation to use codec-derived num_actions (even if actions are not yet interpreted by Warp)\\n\\nDoD:\\n- All existing tests still pass with default codec.\\n- Codebase has a single source of truth for action semantics (codec).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T04:41:16.815466145Z","created_by":"bkase","updated_at":"2026-01-23T04:48:36.617786745Z","closed_at":"2026-01-23T04:48:36.617729482Z","close_reason":"Added codec helpers and updated backends to use codec-derived action ranges","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-a7j","depends_on_id":"bd-32r","type":"blocks","created_at":"2026-01-23T04:41:56.936080323Z","created_by":"bkase"}]}
{"id":"bd-cc1","title":"Epic7: Harness CLI skeleton + backend registry","description":"Implement bench/harness.py CLI skeleton and backend selection.\n\nScope:\n- argparse CLI with required flags: --backend {pyboy_single,pyboy_vec_mp}, --rom or --suite, --steps, --warmup-steps, --num-envs, --num-workers, --frames-per-step, --release-after-frames, --output-dir.\n- Validate mutually exclusive rom/suite and required args.\n- Backend registry/factory in harness or backends/__init__.py.\n- Construct backend with config and run a single benchmark.\n\nAcceptance:\n- uv run python bench/harness.py --help shows flags.\n- Running with a micro-ROM produces a JSON artifact under bench/runs/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:10.154810951Z","created_by":"bkase","updated_at":"2026-01-21T15:11:19.896129084Z","closed_at":"2026-01-21T15:11:19.896074218Z","close_reason":"Implemented harness CLI with backend registry, run config, artifact writer","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-cc1","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:10.170394745Z","created_by":"bkase"}]}
{"id":"bd-dc7","title":"Story 3.1: Define backend interface contract","description":"Scope\n- Implement VecBackend protocol/base class in common.py.\n- Define StepOutput/ResetOutput dataclasses.\n- Include action_spec/obs_spec and device/num_envs metadata.\n\nAcceptance\n- Protocol includes reset, step, get_cpu_state, close.\n- Types are importable and pyright-ready in core modules.\n\nRefs\n- history/m0-epics.md (Story 3.1)\n- ARCHITECTURE.md (Section 5.1: VecBackend protocol)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.469215144Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.112834142Z","deleted_at":"2026-01-21T09:15:23.112827262Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-dcz","title":"Epic 7: Harness CLI for benchmark + reporting","description":"Intent: Implement bench/harness.py as the single CLI to run backends, measure throughput, and emit structured JSON artifacts with stable schemas.\n\nKey refs to read: ARCHITECTURE.md (run schema, step semantics), CONSTITUTION.md (functional core/imperative shell), history/epic6789.md, src/gbxcule/backends/common.py, src/gbxcule/backends/{pyboy_single,pyboy_vec_mp}.py, bench/roms/suite.yaml.\n\nMusts:\n- Unidirectional flow: RunConfig -> run -> RunResult -> write artifact.\n- Warmup excluded from timing; SPS math correct.\n- RESULT_SCHEMA_VERSION=1 artifacts under bench/runs/<timestamp>/<run_id>.json.\n- Deterministic action generation spec + seed recorded.\n- CLI supports backend, rom/suite, steps, warmup, num_envs, num_workers, frames_per_step, release_after_frames.\n\nAcceptance: Fake-backend tests validate schema + SPS math; CLI runs pyboy_single and pyboy_vec_mp on a micro-ROM; artifacts are JSON-valid and stable.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:42:03.277320430Z","created_by":"bkase","updated_at":"2026-01-21T15:19:55.453527628Z","closed_at":"2026-01-21T15:19:55.453500891Z","close_reason":"Epic 7 complete: Harness CLI with backend registry, benchmark runner, action generation, scaling sweeps, and schema-validated artifacts.","compaction_level":0,"original_size":0}
{"id":"bd-fak","title":"Epic9: README update (why + how to run)","description":"Update README.md with concise, operational sections.\n\nScope:\n- What this is + hypothesis + success criteria.\n- uv-only install: uv sync / make setup.\n- Micro-ROM generation: make roms.\n- Baseline bench: make bench; explain JSON artifacts under bench/runs/.\n- Verify (expected to fail with stub): make verify; explain mismatch bundles + repro.sh.\n- Minimal interpretation guide: SPS vs frames/sec; warmup vs measured.\n\nAcceptance:\n- All commands listed exist in Makefile and are runnable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:38.780257759Z","created_by":"bkase","updated_at":"2026-01-21T15:33:04.226378233Z","closed_at":"2026-01-21T15:33:04.226323001Z","close_reason":"README updated with why+how, success criteria, artifact docs, interpretation guide","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-fak","depends_on_id":"bd-38o","type":"parent-child","created_at":"2026-01-21T14:43:38.796349415Z","created_by":"bkase"}]}
{"id":"bd-fx0","title":"WS0: Add M3 GPU gate targets to Makefile","description":"Define M3 contract variables and add verify-gpu/bench-gpu/check-gpu targets with DGX-friendly messaging.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T12:21:20.511756261Z","created_by":"bkase","updated_at":"2026-01-22T12:34:45.561409380Z","closed_at":"2026-01-22T12:22:44.697182328Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-fx0","depends_on_id":"bd-1kg","type":"blocks","created_at":"2026-01-22T12:34:45.561384884Z","created_by":"bkase"}]}
{"id":"bd-hqs","title":"Epic 5: pyboy_single reference backend","description":"Goal\n- Implement the trusted single-env reference backend for baselines and verification.\n\nScope\n- pyboy_single implements VecBackend contract.\n- Headless execution and stable get_cpu_state normalization.\n\nAcceptance\n- Backend runs N steps and returns stable cpu state dict.\n- Harness can use it as the reference backend.\n\nRefs\n- history/m0-epics.md (Epic 5)\n- history/prd.md (Section 7: backends; Section 10: verification scope)\n- ARCHITECTURE.md (Section 9.1: pyboy_single)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:39.131510679Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.105236714Z","deleted_at":"2026-01-21T09:15:23.105227098Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-jd1","title":"Epic8: DUT stub in warp_vec backend","description":"Add a minimal DUT stub in src/gbxcule/backends/warp_vec.py to enable verify flow.\n\nScope:\n- Implement VecBackend interface for device=\"cpu\" stub that returns predictable (wrong) CPU state.\n- Step returns zero obs/reward; get_cpu_state returns zeros (or incrementing counter) with canonical keys.\n- Ensure name=\"warp_vec\" so harness uses real backend name.\n\nAcceptance:\n- Verify mode fails against pyboy_single and emits bundle.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:16.583924633Z","created_by":"bkase","updated_at":"2026-01-21T15:24:32.646784091Z","closed_at":"2026-01-21T15:24:32.646756539Z","close_reason":"Implemented WarpVecBackend stub with predictable (wrong) CPU state. Registered in harness with full VecBackend interface.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-jd1","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:16.590861349Z","created_by":"bkase"}]}
{"id":"bd-k5g","title":"Epic3 (optional): Add CPU-state hash helper","description":"Optional but recommended: add a deterministic CPU-state hashing helper to src/gbxcule/core/signatures.py for quick determinism checks.\n\nScope:\n- Implement hash_cpu_state(state: CpuState, *, include_counters: bool = True) -> str using blake2b over a canonicalized JSON representation (sorted keys, stable ints).\n- Use stdlib only; no goldens.\n- (Optional) add a minimal unit test to ensure stable output for the same state.\n\nAcceptance:\n- Hash output is deterministic across runs and platforms for equivalent states.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T14:15:53.135954089Z","created_by":"bkase","updated_at":"2026-01-21T14:26:04.644966717Z","closed_at":"2026-01-21T14:26:04.644939277Z","close_reason":"Added hash_cpu_state helper with blake2b + tests","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-k5g","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:53.143769728Z","created_by":"bkase"}]}
{"id":"bd-nxk","title":"Story 2.1: Add Makefile with core targets","description":"Scope\n- Add Makefile targets: setup, fmt, test, roms, bench, verify, check.\n- Ensure each target uses uv run internally.\n\nAcceptance\n- make setup runs uv sync.\n- make test runs pytest via uv.\n- make check runs fmt/test/roms/bench smoke and returns non-zero on failure.\n\nRefs\n- history/m0-epics.md (Story 2.1)\n- ARCHITECTURE.md (Section 11.4: Makefile targets)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.122863736Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.166471021Z","deleted_at":"2026-01-21T09:15:23.166461692Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-pab","title":"Story 2.3: Smoke target for developer sanity","description":"Scope\n- Add make smoke target that builds micro-ROMs and runs a short pyboy_single bench.\n- Ensure JSON output is written to bench/runs/ and failures return non-zero.\n\nAcceptance\n- make smoke produces a JSON artifact under bench/runs/.\n- make smoke exits non-zero on failure.\n\nRefs\n- history/m0-epics.md (Story 2.3)\n- ARCHITECTURE.md (Section 8: benchmarking protocol)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.296298809Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.057015158Z","deleted_at":"2026-01-21T09:15:23.057009190Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-q3n","title":"WS6: Add tests/docs for system info provenance","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:26:25.380889155Z","created_by":"bkase","updated_at":"2026-01-22T14:35:30.345482474Z","closed_at":"2026-01-22T14:35:30.345427272Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-qac","title":"WS7: Implement scaling plot script + matplotlib dep","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T14:43:11.348196955Z","created_by":"bkase","updated_at":"2026-01-22T14:47:49.650996799Z","closed_at":"2026-01-22T14:47:49.650970286Z","close_reason":"Completed","compaction_level":0,"original_size":0}
{"id":"bd-r49","title":"WS2 Part 5: Wire stage through warp_vec + harness","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T05:47:16.266133566Z","created_by":"bkase","updated_at":"2026-01-23T05:47:16.266133566Z","compaction_level":0,"original_size":0}
{"id":"bd-r4e","title":"M0: Repo + harness foundation","description":"Goal\n- Deliver the M0 definition of done for repo scaffolding, baselines, harness artifacts, verification scaffold, and initial docs.\n\nM0 DoD (from source docs)\n- Repo matches required structure and is runnable via uv only.\n- Makefile targets for setup/test/bench/verify exist and work on a fresh machine.\n- Micro-ROM builder outputs at least two valid ROMs in bench/roms/out/.\n- Harness runs pyboy_single and pyboy_vec_mp baselines and emits JSON under bench/runs/.\n- Verification scaffold exists and mismatch emits a repro bundle.\n- Devlog tweet draft exists.\n- Commit-hook checks exist via Makefile target(s).\n\nAcceptance\n- All child epics (1-9) closed.\n- M0 DoD checklist above fully satisfied.\n\nRefs\n- history/m0-epics.md (M0 Definition of Done)\n- history/prd.md (Section 16: M0)\n- ARCHITECTURE.md (Sections 1, 8, 11)\n- CONSTITUTION.md (Sections I, II, VI)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:37.732633844Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.160071742Z","deleted_at":"2026-01-21T09:15:23.160057230Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-s1v","title":"Epic9 (optional): README command guard","description":"Optional: add a tiny test that asserts README make commands exist in Makefile (docs-as-code lite).\n\nScope:\n- Parse README for lines starting with `make ` and ensure targets exist.\n- Keep test fast and deterministic.\n\nAcceptance:\n- Fails when README references a missing make target.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T14:43:51.311184952Z","created_by":"bkase","updated_at":"2026-01-21T15:34:12.312345560Z","closed_at":"2026-01-21T15:34:12.312318200Z","close_reason":"Added test_docs.py with README command guard (2 tests)","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-s1v","depends_on_id":"bd-38o","type":"parent-child","created_at":"2026-01-21T14:43:51.326847698Z","created_by":"bkase"}]}
{"id":"bd-sig","title":"WS5: CUDA verify ALU_LOOP smoke","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-22T14:15:41.212649984Z","created_by":"bkase","updated_at":"2026-01-22T14:16:52.743123440Z","closed_at":"2026-01-22T14:16:52.743097504Z","close_reason":"Completed","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-sig","depends_on_id":"bd-254","type":"parent-child","created_at":"2026-01-22T14:15:41.228455973Z","created_by":"bkase"}]}
{"id":"bd-t5x","title":"WS5: Update README verification docs","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-22T09:18:41.680733653Z","created_by":"bkase","updated_at":"2026-01-22T09:30:18.154110226Z","closed_at":"2026-01-22T09:30:18.154055809Z","close_reason":"Update README for M2 verification targets","compaction_level":0,"original_size":0}
{"id":"bd-t7w","title":"WS1: DGX packaging (aarch64): force Warp cu13 via uv","description":"Milestone 3 WS1: make Linux/DGX installs deterministic by forcing a Warp CUDA 13 (cu13) wheel via uv. DGX Spark is arm-based (aarch64), so the pinned wheel URL(s) and uv markers must cover linux/aarch64 (and ideally linux/x86_64 too).\\n\\nDoD:\\n- `uv sync` on DGX installs Warp from the pinned cu13 wheel URL (prove via PEP 610 direct_url.json + warp import/init).\\n- `uv sync` on macOS still works from PyPI with no special steps.\\n\\nDeliverables:\\n- pyproject.toml: [tool.uv.sources] override(s) for warp-lang with appropriate markers\\n- updated uv.lock\\n- optional DGX setup docs","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-22T12:24:16.618907944Z","created_by":"bkase","updated_at":"2026-01-22T13:13:30.440933446Z","closed_at":"2026-01-22T13:13:30.440905782Z","close_reason":"WS1 complete: cu13 pinning + docs + macOS/DGX validation","compaction_level":0,"original_size":0}
{"id":"bd-th6","title":"Story 7.3: Deterministic action generation","description":"Scope\n- Add --actions-seed and record action generator name/version + seed.\n- Actions can be noop for micro-ROMs but must be reproducible.\n\nAcceptance\n- JSON artifacts record actions seed and generator metadata.\n\nRefs\n- history/m0-epics.md (Story 7.3)\n- ARCHITECTURE.md (Section 1.1: determinism; Section 4.1: frames per step)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.442791668Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.084081414Z","deleted_at":"2026-01-21T09:15:23.084075718Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-wg6","title":"Epic6: Robust close/join + worker failure handling","description":"Harden multiprocessing lifecycle in pyboy_vec_mp.\n\nScope:\n- Implement close() that sends CLOSE, joins workers with timeout, terminates if needed.\n- Detect worker crashes (broken pipe / EOF) and raise immediately with context.\n- Ensure child processes are cleaned even on errors during step/reset.\n\nAcceptance:\n- No zombie workers after tests; close() is idempotent and bounded.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:45.022148757Z","created_by":"bkase","updated_at":"2026-01-21T15:05:02.073985548Z","closed_at":"2026-01-21T15:05:02.073930428Z","close_reason":"Added broken pipe/EOF detection, timeout on recv, __del__ cleanup, and close() on errors","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-wg6","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:45.040535522Z","created_by":"bkase"}]}
{"id":"bd-x9y","title":"Epic4 (optional): Ensure bench/roms/out is gitignored","description":"Optional: verify bench/roms/out is gitignored; add to .gitignore if missing.\n\nAcceptance:\n- Generated ROMs are not tracked in git.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T14:23:16.250178210Z","created_by":"bkase","updated_at":"2026-01-21T14:45:48.499927396Z","closed_at":"2026-01-21T14:45:48.499871204Z","close_reason":"bench/roms/out and .hypothesis already gitignored","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-x9y","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:23:16.266581287Z","created_by":"bkase"}]}
{"id":"bd-yun","title":"Story 8.1: Add --verify mode scaffold","description":"Scope\n- Harness supports --verify with ref backend pyboy_single and a stub dut backend.\n- Comparison loop runs for N steps with step-exact compares.\n\nAcceptance\n- verify mode exits non-zero on mismatch and prints summary.\n\nRefs\n- history/m0-epics.md (Story 8.1)\n- ARCHITECTURE.md (Section 7.2: compare policy)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.783882011Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.150406480Z","deleted_at":"2026-01-21T09:15:23.150396768Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
