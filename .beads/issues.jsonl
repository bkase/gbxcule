{"id":"bd-11r","title":"Epic8: Action trace recording + replay","description":"Implement actions.jsonl recording and --actions-file replay support.\n\nScope:\n- Action trace format: one JSON array per line (int32 actions).\n- In verify mode: always record actions.jsonl.\n- If --actions-file provided: ignore seed/gen and replay exact actions deterministically.\n\nAcceptance:\n- Replaying actions reproduces same steps; trace file length equals verify_steps.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:08.754372298Z","created_by":"bkase","updated_at":"2026-01-21T14:43:08.770121136Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-11r","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:08.770099328Z","created_by":"bkase"}]}
{"id":"bd-13j","title":"Epic3: Enforce pyright strict for common.py","description":"Update pyproject.toml (or add pyright config) so src/gbxcule/backends/common.py is type-checked in strict mode, per ARCHITECTURE.md.\n\nScope:\n- Adjust [tool.pyright] config to apply strict for common.py (and any new shared schema module).\n- Keep other modules at current strictness to preserve fast dev loop.\n\nAcceptance:\n- pyright reports strict-mode issues for common.py; no new errors introduced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:47.692101268Z","created_by":"bkase","updated_at":"2026-01-21T14:24:54.230198051Z","closed_at":"2026-01-21T14:24:54.230140259Z","close_reason":"Added pyright strict mode for common.py","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-13j","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:47.708691309Z","created_by":"bkase"}]}
{"id":"bd-145","title":"Story 6.2: Basic reliability checks for MP backend","description":"Scope\n- Add a test or smoke run to verify startup, shutdown, and error propagation.\n\nAcceptance\n- Failing worker causes non-zero exit and no leaked processes.\n\nRefs\n- history/m0-epics.md (Story 6.2)\n- CONSTITUTION.md (Section V: crash-only software)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.818206443Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.044119385Z","deleted_at":"2026-01-21T09:15:23.044113769Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-14x","title":"Epic6: MP reliability + smoke tests","description":"Add tests to verify pyboy_vec_mp reliability.\n\nRefs: tests/test_backends_common.py, bench/roms/build_micro_rom.py, bench/roms/suite.yaml.\n\nTests:\n- Start backend with num_envs=4, num_workers=2; reset(seed=123).\n- Run a small number of steps (8â€“32); ensure no hang.\n- close() joins workers within timeout.\n- Optional: get_cpu_state(0) returns canonical keys.\n\nAcceptance:\n- Tests are fast (<2 min gate) and fail fast on worker failure.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:53.678100712Z","created_by":"bkase","updated_at":"2026-01-21T15:07:07.755825218Z","closed_at":"2026-01-21T15:07:07.755797810Z","close_reason":"Added 26 tests covering config validation, reset/step reliability, get_cpu_state RPC, close() cleanup, and deterministic seeding","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-14x","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:53.694568583Z","created_by":"bkase"}]}
{"id":"bd-15d","title":"Epic7: Tests with fake backend for SPS math + schema","description":"Add tests for harness math and schema using an in-memory fake backend (no PyBoy).\n\nScope:\n- Fake VecBackend returns fixed outputs; step increments a counter.\n- Test SPS formulas (total/per-env) and frames_per_sec computed correctly.\n- Validate artifact keys exist and json.dumps succeeds.\n- Avoid timing flakiness: assert formulas based on mocked seconds or injected timer.\n\nAcceptance:\n- Tests are deterministic and fast; no external deps required.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:39.733516012Z","created_by":"bkase","updated_at":"2026-01-21T14:42:39.750161663Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-15d","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:39.750136847Z","created_by":"bkase"}]}
{"id":"bd-1bn","title":"Story 1.1: Create repository structure exactly as spec","description":"Scope\n- Create all directories and files specified in PRD structure.\n- Add placeholder modules that are import-safe (no heavy imports at module import time).\n- Add minimal __main__.py that prints guidance for uv run.\n- Add .gitignore for .venv, __pycache__, bench/roms/out, bench/runs.\n\nAcceptance\n- uv run python -c \"import gbxcule; print('ok')\" succeeds.\n- uv run python -c \"import gbxcule.backends; import gbxcule.core; import gbxcule.kernels; print('ok')\" succeeds.\n\nRefs\n- history/epic1.md (Story 1.1)\n- history/prd.md (Section 6: Repo structure)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:37.842273091Z","created_by":"bkase","updated_at":"2026-01-21T09:21:04.616003082Z","closed_at":"2026-01-21T09:21:04.615947946Z","close_reason":"Implemented: repo structure created with all directories and placeholder modules","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1bn","depends_on_id":"bd-2sn","type":"parent-child","created_at":"2026-01-21T09:12:37.850770876Z","created_by":"bkase"}]}
{"id":"bd-1cf","title":"Story 8.2: Implement mismatch repro bundle writer","description":"Scope\n- Implement repro bundle writer with atomic directory creation.\n- Include metadata.json, ref_state.json, dut_state.json, diff.json, repro.sh.\n\nAcceptance\n- Repro bundle is JSON-only and idempotent to write.\n\nRefs\n- history/m0-epics.md (Story 8.2)\n- ARCHITECTURE.md (Section 7.4: mismatch automation)\n- CONSTITUTION.md (Section V: crash-only, structured logs)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.959539175Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.075524221Z","deleted_at":"2026-01-21T09:15:23.075518189Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1i0","title":"Epic7: Scaling run support","description":"Add --env-counts support for scaling sweeps.\n\nScope:\n- Parse --env-counts 1,2,4,... and run benchmark per env count.\n- Emit scaling artifact JSON with sweep config and ordered results list.\n- Keep deterministic ordering and fields.\n\nAcceptance:\n- Scaling JSON written to bench/runs/<timestamp>/<run_id>__scaling.json (or similar).\n- Each entry includes env_count + results metrics.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:33.015298183Z","created_by":"bkase","updated_at":"2026-01-21T15:17:59.289197636Z","closed_at":"2026-01-21T15:17:59.289171348Z","close_reason":"Implemented --env-counts scaling sweeps with ordered results list in _scaling.json artifact.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1i0","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:33.031591978Z","created_by":"bkase"}]}
{"id":"bd-1ks","title":"Epic6: Implement pyboy_vec_mp backend core","description":"Implement src/gbxcule/backends/pyboy_vec_mp.py as a VecBackend.\n\nScope:\n- Define a frozen config dataclass (num_envs, num_workers, frames_per_step, release_after_frames, rom_path, base_seed, headless, obs_dim). Validate in __post_init__ with clear ValueError messages.\n- Master/worker architecture using multiprocessing with top-level worker functions for spawn safety.\n- Partition env indices across workers (static), each worker owns its PyBoy instances.\n- Master sends commands: RESET, STEP, GET_CPU_STATE, CLOSE.\n- Worker returns OK/STATE/ERR messages with error detail.\n\nAcceptance:\n- Protocol fields: name=\"pyboy_vec_mp\", device=\"cpu\", num_envs set, action_spec/obs_spec set.\n- step accepts int32[num_envs] and returns obs/reward/done/trunc with correct shapes/dtypes.\n- IPC payloads minimal (actions + ack); obs can be zeros for M0.\n- Fail fast on worker error or dead pipe.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:24.201499633Z","created_by":"bkase","updated_at":"2026-01-21T15:00:04.100128767Z","closed_at":"2026-01-21T15:00:04.100072223Z","close_reason":"Implemented core MP backend with master/worker architecture, IPC protocol, and VecBackend interface","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ks","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:24.208165657Z","created_by":"bkase"}]}
{"id":"bd-1l5","title":"Epic 3: Backend contract and shared types","description":"Goal\n- Define a stable backend interface and shared result types for harness/backends.\n\nScope\n- VecBackend protocol in src/gbxcule/backends/common.py.\n- Shared dataclasses for step/reset outputs and run metadata.\n- Schema fields required for reporting.\n\nAcceptance\n- Interface includes reset/step/get_cpu_state/close and metadata properties.\n- Harness can depend on the contract without backend-specific imports.\n\nRefs\n- history/m0-epics.md (Epic 3)\n- history/prd.md (Section 8: backend contract)\n- ARCHITECTURE.md (Section 5.1: VecBackend protocol)\n- CONSTITUTION.md (Section I: correctness by construction)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:38.382965866Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.060403750Z","deleted_at":"2026-01-21T09:15:23.060398086Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-1la","title":"Story 5.2: Add minimal state snapshot normalization","description":"Scope\n- Normalize get_cpu_state output to JSON-friendly scalars and stable keys.\n- Derive flags from F register if applicable.\n\nAcceptance\n- get_cpu_state output matches the canonical schema shape.\n\nRefs\n- history/m0-epics.md (Story 5.2)\n- ARCHITECTURE.md (Section 7.1: canonical CPU state schema)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.404291686Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.123645473Z","deleted_at":"2026-01-21T09:15:23.123634993Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1mp","title":"Epic3: Define backend contract + core types in common.py","description":"Implement the backend interface contract and shared core types in src/gbxcule/backends/common.py.\n\nScope:\n- Add Device and Stage literals and NDArray aliases.\n- Add ArraySpec + BackendSpec dataclasses with to_json_dict (tuples->lists, dtype as string).\n- Add StepOutput dataclass (obs/reward/done/trunc/info).\n- Add CpuFlags + CpuState TypedDict with canonical keys and optional counters.\n- Define VecBackend Protocol matching reset/step/get_cpu_state/close with batched semantics.\n- Add fast validation helpers: flags_from_f, validate_actions, as_i32_actions, validate_step_output, empty_obs.\n\nAcceptance:\n- Shapes/dtypes align with Epic3 invariants (actions int32[num_envs], obs float32[num_envs, obs_dim], reward float32[num_envs], done/trunc bool[num_envs]).\n- Validation raises ValueError with actionable messages.\n- No heavy deps added; pure dataclasses/typing + numpy only.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:21.930551349Z","created_by":"bkase","updated_at":"2026-01-21T14:20:12.811838477Z","closed_at":"2026-01-21T14:20:12.811681309Z","close_reason":"Implemented backend contract + core types in common.py","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1mp","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:21.947091240Z","created_by":"bkase"}]}
{"id":"bd-1o8","title":"Story 7.1: Implement harness CLI skeleton","description":"Scope\n- Implement bench/harness.py with backend selection and ROM/suite inputs.\n- Support stage emulate_only, steps, warmup, and output dir.\n- Emit JSON artifact per run.\n\nAcceptance\n- CLI runs pyboy_single baseline and writes JSON under bench/runs/.\n\nRefs\n- history/m0-epics.md (Story 7.1)\n- ARCHITECTURE.md (Section 8: benchmarking protocol)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.110046613Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.071493050Z","deleted_at":"2026-01-21T09:15:23.071483226Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1pl","title":"Epic 8: Verification scaffold + mismatch repro bundles","description":"Intent: Add verify mode to the harness that compares ref vs DUT, fails fast on mismatch, and emits a reproducible mismatch bundle (JSON-only + repro.sh).\n\nKey refs to read: ARCHITECTURE.md (correctness + mismatch bundle), CONSTITUTION.md (verifiable rewards), history/epic6789.md, src/gbxcule/backends/common.py, src/gbxcule/core/signatures.py, bench/harness.py, src/gbxcule/backends/warp_vec.py.\n\nMusts:\n- MISMATCH_SCHEMA_VERSION=1; stable JSON bundle.\n- Actions trace recorded (actions.jsonl) to ensure reproducibility.\n- --actions-file replay path supported (overrides generator).\n- Mismatch bundle written atomically; mismatch exits non-zero with short summary.\n\nAcceptance: verify test fails as expected against DUT stub and produces full bundle with repro.sh.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:42:48.747174241Z","created_by":"bkase","updated_at":"2026-01-21T14:42:48.747174241Z","compaction_level":0,"original_size":0}
{"id":"bd-1re","title":"Story 9.1: README why + how to run","description":"Scope\n- README includes premise/hypothesis, uv setup, generate micro-ROMs, run baselines.\n- Explain artifacts under bench/runs/ and how to interpret SPS.\n\nAcceptance\n- README provides a minimal runbook for pyboy_single and pyboy_vec_mp.\n\nRefs\n- history/m0-epics.md (Story 9.1)\n- history/prd.md (Section 15: marketing deliverables)\n- ARCHITECTURE.md (Section 15: docs)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-21T09:12:41.312595415Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.094158630Z","deleted_at":"2026-01-21T09:15:23.094149174Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1sv","title":"Story 4.2: Add micro-ROM suite file","description":"Scope\n- Add bench/roms/suite.yaml listing at least two ROMs.\n- Each entry includes id/name, relative path, step config fields, and description.\n\nAcceptance\n- suite.yaml is consumed by harness and resolves ROM paths under bench/roms/out/.\n\nRefs\n- history/m0-epics.md (Story 4.2)\n- history/prd.md (Section 10.1: verification scope)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.889092074Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.052548945Z","deleted_at":"2026-01-21T09:15:23.052538897Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1t7","title":"Epic 2: Makefile + commit-hook automation","description":"Goal\n- Provide fast, consistent local gates via Makefile and pre-commit hook.\n\nScope\n- Makefile targets for setup/fmt/lint/test/roms/bench/smoke/verify/check/hooks.\n- Hook installer via git config core.hooksPath.\n- Smoke target for quick sanity.\n\nAcceptance\n- make setup/test/bench/verify/check work via uv run.\n- Pre-commit hook exists and runs make check.\n- Hook output is actionable and failures are clear.\n\nRefs\n- history/epic2.md\n- history/m0-epics.md (Epic 2)\n- ARCHITECTURE.md (Sections 11.4-11.5)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-21T11:09:55.397940539Z","created_by":"bkase","updated_at":"2026-01-21T11:14:25.428250136Z","closed_at":"2026-01-21T11:14:25.428196022Z","close_reason":"All stories (2.1, 2.2, 2.3) completed","compaction_level":0,"original_size":0}
{"id":"bd-1ue","title":"Story 4.1: Implement micro-ROM builder","description":"Scope\n- Implement bench/roms/build_micro_rom.py to generate at least ALU_LOOP.gb and MEM_RWB.gb.\n- Output location: bench/roms/out/.\n\nAcceptance\n- ROMs load and execute under PyBoy headless without crashing for a small step count.\n\nRefs\n- history/m0-epics.md (Story 4.1)\n- history/prd.md (Section 12: E1-E3 ROMs)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.783108381Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.088489035Z","deleted_at":"2026-01-21T09:15:23.088479275Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-1ze","title":"Epic5 (optional): Action mapping constants","description":"Optional: Add action mapping constants/helper in common.py to keep action meanings stable across backends (noop/up/down/left/right/A/B/start/select).\n\nAcceptance:\n- Single canonical mapping used by pyboy_single and future backends.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T14:24:26.045455855Z","created_by":"bkase","updated_at":"2026-01-21T14:48:08.766212211Z","closed_at":"2026-01-21T14:48:08.766184851Z","close_reason":"Added action mapping constants and action_to_button helper","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ze","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:26.052653716Z","created_by":"bkase"}]}
{"id":"bd-23z","title":"Epic 7: Harness CLI for benchmark + reporting","description":"Goal\n- Provide a single harness CLI to run baselines and emit structured JSON results.\n\nScope\n- CLI options for backend selection, ROM/suite, steps/warmup, output dir.\n- Scaling run support with env-counts list.\n- Deterministic action generation recorded in artifacts.\n\nAcceptance\n- pyboy_single and pyboy_vec_mp runs produce JSON artifacts under bench/runs/.\n- Artifacts include schema_version and required fields.\n\nRefs\n- history/m0-epics.md (Epic 7)\n- history/prd.md (Sections 11, 12, 19)\n- ARCHITECTURE.md (Sections 2.2, 4, 8)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:39.954255465Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.108992700Z","deleted_at":"2026-01-21T09:15:23.108983164Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-27f","title":"Epic8: Verify-mode bundle test","description":"Add an end-to-end test for verify mode and mismatch bundle creation.\n\nScope:\n- Run bench/harness.py --verify with ref=pyboy_single, dut=warp_vec stub, small verify_steps (e.g., 4).\n- Assert non-zero exit.\n- Assert bundle directory exists with required files: metadata.json, ref_state.json, dut_state.json, diff.json, actions.jsonl, repro.sh.\n- Validate metadata includes required keys and repro.sh uses uv run + --actions-file.\n\nAcceptance:\n- Test is deterministic and fast; failures are actionable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:24.436051199Z","created_by":"bkase","updated_at":"2026-01-21T14:43:24.452594054Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-27f","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:24.452571542Z","created_by":"bkase"}]}
{"id":"bd-27r","title":"Epic4: Tests for ROM generation + headless PyBoy smoke","description":"Implement tests/test_micro_roms.py to verify ROM generation and headless execution.\n\nTests (fast + deterministic):\n- Build ROMs into temp dir; assert files exist and non-zero.\n- Validate header checksum and global checksum against recomputed values.\n- PyBoy headless smoke: load ROMs with window=\"null\", sound_emulated=False; set_emulation_speed(0); tick a small number of frames; stop without saving.\n\nAcceptance:\n- Tests pass on CPU-only (macOS/cloud).\n- Clear failure messages for checksum mismatches or PyBoy load issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:23:09.723360864Z","created_by":"bkase","updated_at":"2026-01-21T14:45:20.516797206Z","closed_at":"2026-01-21T14:45:20.516739350Z","close_reason":"Added comprehensive tests for ROM generation and PyBoy headless smoke","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-27r","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:23:09.739434677Z","created_by":"bkase"}]}
{"id":"bd-28i","title":"Epic3: Define run metadata schema + JSON conversion","description":"Add run metadata schema dataclasses and JSON conversion helpers (stdlib json only).\n\nScope (likely in common.py):\n- RESULT_SCHEMA_VERSION = 1.\n- Dataclasses: SystemInfo, RunConfig, RunResult (as per epic345.md).\n- run_artifact_to_json_dict(...) or to_json_dict methods with tuple->list conversion and JSON-safe values.\n- Include fields: backend/device, rom_path/sha256, stage, num_envs, frames_per_step, release_after_frames, steps, warmup_steps, actions_seed, sync_every; results: measured_steps, seconds, total_sps, per_env_sps, frames_per_sec.\n\nAcceptance:\n- json.dumps on the output dict works without custom encoders.\n- Schema keys are stable and explicit.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:27.955478162Z","created_by":"bkase","updated_at":"2026-01-21T14:22:12.572629882Z","closed_at":"2026-01-21T14:22:12.572602666Z","close_reason":"Added run metadata schema: SystemInfo, RunConfig, RunResult dataclasses + run_artifact_to_json_dict","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-28i","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:27.971356841Z","created_by":"bkase"}]}
{"id":"bd-299","title":"Story 1.3: Provide uv-only run interface","description":"Scope\n- Document canonical commands using uv run.\n- Add minimal README quickstart (uv sync, uv run pytest, uv run python -m gbxcule).\n- Add tests/test_imports.py to assert importability and __version__.\n\nAcceptance\n- uv run pytest -q passes (import test).\n- uv run python -m gbxcule prints guidance.\n\nRefs\n- history/epic1.md (Story 1.3)\n- history/m0-epics.md (Epic 1 acceptance)\n- CONSTITUTION.md (Section I: verifiable rewards; Section III: shift-left)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:37.972959111Z","created_by":"bkase","updated_at":"2026-01-21T09:21:08.121252407Z","closed_at":"2026-01-21T09:21:08.121193975Z","close_reason":"Implemented: README quickstart, tests/test_imports.py, all acceptance criteria pass","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-299","depends_on_id":"bd-2sn","type":"parent-child","created_at":"2026-01-21T09:12:37.980455451Z","created_by":"bkase"}]}
{"id":"bd-2h5","title":"Epic4: Add micro-ROM suite definition","description":"Create bench/roms/suite.yaml describing the micro-ROM suite.\n\nScope:\n- suite_version + defaults (frames_per_step=24, release_after_frames=8).\n- Entries for ALU_LOOP and MEM_RWB with id, path, description, frames_per_step, release_after_frames.\n- Keep paths explicit and stable for harness consumption.\n\nAcceptance:\n- YAML is self-describing and stable; includes all required step semantics fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:23:02.611269895Z","created_by":"bkase","updated_at":"2026-01-21T14:44:14.160626136Z","closed_at":"2026-01-21T14:44:14.160599592Z","close_reason":"Added suite.yaml with ALU_LOOP and MEM_RWB entries","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2h5","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:23:02.627022971Z","created_by":"bkase"}]}
{"id":"bd-2ik","title":"Epic 5: Reference baseline backend (pyboy_single)","description":"Intent: Implement the trusted single-env PyBoy backend that conforms to VecBackend, acts as correctness oracle, and provides a baseline for benchmarks.\n\nMusts (ARCHITECTURE/PRD aligned):\n- Implements VecBackend protocol exactly (reset/step/get_cpu_state/close).\n- Runs headless (window=\"null\"), CPU-only, deterministic where possible.\n- Batched outputs (num_envs=1) with correct shapes/dtypes.\n- Canonical CPU-state schema (PC/SP/A/F/B/C/D/E/H/L + flags + optional counters).\n- Fail loud if required fields not readable.\n\nDeliverables:\n- src/gbxcule/backends/pyboy_single.py\n- tests/test_pyboy_single_backend.py\n- (Optional) action mapping constants/helper in common.py\n\nAcceptance: tests validate shapes/dtypes, step semantics, get_cpu_state schema; backend closes cleanly; no hidden side effects.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:23:59.175496328Z","created_by":"bkase","updated_at":"2026-01-21T14:52:33.424243533Z","closed_at":"2026-01-21T14:52:33.424216685Z","close_reason":"Epic 5 complete: pyboy_single backend with full test coverage","compaction_level":0,"original_size":0}
{"id":"bd-2jg","title":"Story 9.2: Devlog tweet draft","description":"Scope\n- Draft devlog tweet with hypothesis, current baselines, what success looks like.\n- Include one reproducible command and a simple artifact (chart/snippet).\n\nAcceptance\n- Draft exists and is ready to post with minor edits.\n\nRefs\n- history/m0-epics.md (Story 9.2)\n- history/prd.md (Section 15: initial marketing deliverable)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-21T09:12:41.526560107Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.119911536Z","deleted_at":"2026-01-21T09:15:23.119905792Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2l8","title":"Epic6: Deterministic seeding + action handling","description":"Implement deterministic seeding and canonical action handling in pyboy_vec_mp.\n\nScope:\n- Define hash64(base_seed, env_idx, rom_sha) pure helper for per-env seed derivation.\n- Record base_seed and derived seeds in backend state (for artifact reporting later).\n- Action handling matches Epic3/Epic5 mapping: noop/up/down/left/right/A/B/start/select.\n- Enforce frames_per_step/release_after_frames semantics in workers.\n\nAcceptance:\n- With fixed base_seed, generated action traces (if any) and config fields are stable.\n- Invalid action values raise ValueError with clear message.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:31.078517131Z","created_by":"bkase","updated_at":"2026-01-21T15:03:14.148092650Z","closed_at":"2026-01-21T15:03:14.148035562Z","close_reason":"Added hash64 for per-env seed derivation, ROM SHA computation, derived seeds stored and reported in reset info","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2l8","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:31.086055042Z","created_by":"bkase"}]}
{"id":"bd-2m1","title":"Epic 3: Backend contract + shared types","description":"Intent: Define the single backend interface and shared types so the harness can run all backends uniformly, with stable shapes/dtypes, canonical CPU-state schema, and JSON-serializable run artifacts.\n\nMusts:\n- Protocol: reset/step/get_cpu_state/close (unidirectional step)\n- Batch semantics for all backends (pyboy_single behaves as batch of 1)\n- Explicit shapes/dtypes at boundaries (actions int32[num_envs], obs float32[num_envs, obs_dim], reward float32[num_envs], done/trunc bool[num_envs])\n- Canonical CPU state keys (PC/SP/A/F/B/C/D/E/H/L + flags + optional counters)\n- JSON-serializable specs + run metadata schema (stdlib json only)\n\nDeliverables:\n- src/gbxcule/backends/common.py\n- src/gbxcule/backends/__init__.py exports\n- tests/test_backends_common.py\n- (Optional) src/gbxcule/core/signatures.py helper for deterministic CPU-state hashing\n- pyproject.toml pyright strict config for common.py\n\nAcceptance: tests cover JSON serialization + boundary validation + flags derivation; pyright strict passes for common.py; no heavy deps.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:14:59.783023375Z","created_by":"bkase","updated_at":"2026-01-21T14:26:04.934886802Z","closed_at":"2026-01-21T14:26:04.934860674Z","close_reason":"Epic 3 complete: backend contract, shared types, run schema, tests, strict types, hash helper","compaction_level":0,"original_size":0}
{"id":"bd-2og","title":"Epic 2: Makefile + commit-hook automation","description":"Goal\n- Provide fast, consistent local gates via Makefile and pre-commit hook.\n\nScope\n- Makefile targets for setup/fmt/test/roms/bench/verify/check.\n- Hook installer that runs make check; branch/GPU behavior aligned to policy.\n- Smoke target for quick sanity.\n\nAcceptance\n- make setup/test/bench/verify/check work via uv run.\n- Pre-commit hook exists and runs make check.\n- Hook output is actionable and failures are clear.\n\nRefs\n- history/m0-epics.md (Epic 2)\n- history/prd.md (Section 14: CI/commit hook requirements)\n- ARCHITECTURE.md (Sections 11.4-11.5: Makefile + hooks)\n- CONSTITUTION.md (Section II: tooling latency)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:38.040694701Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.116064110Z","deleted_at":"2026-01-21T09:15:23.116058254Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2ok","title":"Epic 6: pyboy_vec_mp baseline backend","description":"Goal\n- Implement the CPU multiprocessing baseline backend for throughput comparison.\n\nScope\n- pyboy_vec_mp implements VecBackend contract for N envs.\n- Deterministic run artifacts; clean startup/shutdown.\n\nAcceptance\n- Backend runs N envs and returns throughput metrics for harness reporting.\n\nRefs\n- history/m0-epics.md (Epic 6)\n- history/prd.md (Section 7: backends)\n- ARCHITECTURE.md (Section 9.2: pyboy_vec_mp)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:39.543958117Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.146524990Z","deleted_at":"2026-01-21T09:15:23.146518990Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2p9","title":"Epic 8: Verification scaffold + mismatch repro bundle","description":"Goal\n- Provide verify mode and deterministic mismatch repro bundles from day 1.\n\nScope\n- Add verify mode with ref vs dut backends.\n- Write repro bundle on mismatch and exit non-zero.\n\nAcceptance\n- Mismatch produces bundle with metadata.json, ref_state.json, dut_state.json, diff.json, repro.sh.\n- Bundle path matches bench/runs/mismatch/<timestamp>_<rom_id>_<ref>_vs_<dut>/.\n\nRefs\n- history/m0-epics.md (Epic 8)\n- history/prd.md (Section 10: mismatch automation)\n- ARCHITECTURE.md (Section 7.4: mismatch bundle)\n- CONSTITUTION.md (Sections I and V)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:40.615388578Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.142661436Z","deleted_at":"2026-01-21T09:15:23.142651931Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2r2","title":"Epic 4: Micro-ROM generation + suite definition","description":"Goal\n- Provide deterministic, license-safe micro-ROMs for correctness and performance baselines.\n\nScope\n- ROM generator producing at least two ROMs.\n- Suite YAML listing ROMs and step config metadata.\n- Tests to validate ROM generation and basic execution under PyBoy.\n\nAcceptance\n- ROMs generate into bench/roms/out/ and run headless for a small step count.\n- suite.yaml includes id/path/description and step config fields.\n\nRefs\n- history/m0-epics.md (Epic 4)\n- history/prd.md (Section 7: micro-ROM suite; Section 10: verification scope)\n- ARCHITECTURE.md (Section 10: E1-E3 micro-ROM staging)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:38.672581690Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.132322699Z","deleted_at":"2026-01-21T09:15:23.132316955Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-2sm","title":"Epic 6: pyboy_vec_mp CPU multiprocessing backend","description":"Intent: ship an honest CPU multiprocessing baseline that implements VecBackend, scales across workers, and is reliable (no hangs/zombies).\n\nKey refs to read: ARCHITECTURE.md, CONSTITUTION.md, history/epic6789.md, src/gbxcule/backends/common.py, bench/roms/suite.yaml, src/gbxcule/backends/pyboy_single.py.\n\nMusts:\n- VecBackend protocol compliance with batched outputs (num_envs>=1).\n- Deterministic seeding policy (base_seed -> per-env seed) recorded in config.\n- Step semantics: frames_per_step=24, release_after_frames=8.\n- Robust process lifecycle: detect worker failure, close/join with timeouts, terminate fallback.\n\nDeliverables:\n- src/gbxcule/backends/pyboy_vec_mp.py\n- tests: MP reliability + smoke\n\nAcceptance: backend steps small workloads without hang; correct shapes/dtypes; closes cleanly; fast tests (<2 min gate).","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:41:17.337595967Z","created_by":"bkase","updated_at":"2026-01-21T15:07:20.653194673Z","closed_at":"2026-01-21T15:07:20.653168289Z","close_reason":"Epic 6 complete: pyboy_vec_mp backend with full test coverage (98 total tests)","compaction_level":0,"original_size":0}
{"id":"bd-2sn","title":"Epic 1: Repo scaffolding and uv-only workflow","description":"Goal\n- Establish repo structure, uv-only workflow, and import-safe placeholders.\n\nScope\n- Create required directory tree and placeholder modules.\n- Define pyproject.toml and uv.lock using uv-only workflow.\n- Document uv-only run interface and add minimal import test.\n\nAcceptance\n- Repo matches PRD structure and imports cleanly.\n- uv sync creates environment; uv run python -c \"import gbxcule\" succeeds.\n- README documents uv-only workflow.\n\nRefs\n- history/epic1.md (Epic 1 DoD + stories)\n- history/prd.md (Section 6: Repo structure; Section 14: CI/commit hook expectations)\n- ARCHITECTURE.md (Section 11.1: uv-only; Section 11.4: Makefile as interface)\n- CONSTITUTION.md (Sections II, IV, VI)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:37.786288886Z","created_by":"bkase","updated_at":"2026-01-21T09:21:09.903236413Z","closed_at":"2026-01-21T09:21:09.903180413Z","close_reason":"All child stories (1.1, 1.2, 1.3) completed","compaction_level":0,"original_size":0}
{"id":"bd-2t2","title":"Epic4: Implement micro-ROM builder (deterministic + valid headers)","description":"Implement bench/roms/build_micro_rom.py with pure helpers and deterministic ROM generation.\n\nScope:\n- Pure helpers: compute_header_checksum, compute_global_checksum, sha256_bytes.\n- build_rom(title, program) builds 32KiB ROM with valid header and checksums.\n- Two deterministic program payloads: ALU_LOOP and MEM_RWB (ALU loop + WRAM R/W loop).\n- Atomic write to bench/roms/out (tmp + rename).\n- CLI wrapper prints paths, sha256, size; supports --out-dir.\n\nAcceptance:\n- Deterministic outputs for same inputs (sha256 stable).\n- Valid Nintendo logo + header/global checksum per Pan Docs.\n- No external deps beyond stdlib.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:22:55.640771582Z","created_by":"bkase","updated_at":"2026-01-21T14:43:33.932095838Z","closed_at":"2026-01-21T14:43:33.932068142Z","close_reason":"Implemented micro-ROM builder with checksums, sha256, atomic write, CLI","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2t2","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:22:55.657075841Z","created_by":"bkase"}]}
{"id":"bd-2u0","title":"Epic7: Deterministic action generation (pure)","description":"Implement pure action generation and optional recording.\n\nScope:\n- generate_actions(step_idx, num_envs, seed, gen_name, gen_version) -> int32[num_envs].\n- Support noop + seeded_random generators; record name/version/seed in config.\n- Ensure batch semantics even for single-env.\n\nAcceptance:\n- Deterministic outputs given same inputs; no side effects.\n- Action generator metadata included in artifacts.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:26.281398932Z","created_by":"bkase","updated_at":"2026-01-21T15:15:38.887983067Z","closed_at":"2026-01-21T15:15:38.887927002Z","close_reason":"Implemented pure generate_actions function with noop and seeded_random generators. Added 12 tests for determinism.","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2u0","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:26.296952727Z","created_by":"bkase"}]}
{"id":"bd-2up","title":"Story 2.2: Add commit-hook(s) that call Makefile targets","description":"Scope\n- Add tools/install_git_hooks.py to install pre-commit hook.\n- Hook runs make check (or make check-main on DGX main branch per policy).\n- Document hook installation.\n\nAcceptance\n- .git/hooks/pre-commit runs make check.\n- Hook failure output is actionable.\n\nRefs\n- history/m0-epics.md (Story 2.2)\n- ARCHITECTURE.md (Section 11.5: Git hooks policy)\n- CONSTITUTION.md (Section III: shift-left)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.205862583Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.155127575Z","deleted_at":"2026-01-21T09:15:23.155121927Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2wk","title":"Story 6.1: Implement pyboy_vec_mp backend","description":"Scope\n- Implement multiprocessing backend with num_envs and num_workers.\n- Keep IPC minimal for benchmarking.\n\nAcceptance\n- reset/step/close implemented and usable by harness.\n- Deterministic artifacts for comparable runs.\n\nRefs\n- history/m0-epics.md (Story 6.1)\n- ARCHITECTURE.md (Section 9.2: implementation guidance)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.680092755Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.048519389Z","deleted_at":"2026-01-21T09:15:23.048513597Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2x5","title":"Story 4.3: Tests for ROM generation","description":"Scope\n- Add tests/test_micro_roms.py to generate ROMs and step PyBoy headless.\n- Assert ROM files exist in bench/roms/out/.\n\nAcceptance\n- uv run pytest -q passes and validates ROM generation.\n\nRefs\n- history/m0-epics.md (Story 4.3)\n- CONSTITUTION.md (Section III: shift-left testing)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.007998517Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.065243565Z","deleted_at":"2026-01-21T09:15:23.065234141Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-2xn","title":"Epic8: Mismatch repro bundle writer (atomic)","description":"Implement mismatch bundle writer in bench/harness.py or a helper module.\n\nScope:\n- MISMATCH_SCHEMA_VERSION=1 metadata.json with required keys (rom sha, backends, seeds, compare_every, step semantics, system info, commit sha).\n- Write ref_state.json, dut_state.json, diff.json, actions.jsonl, repro.sh.\n- Use temp dir + rename for atomicity.\n- repro.sh uses uv-only invocation and prefers --actions-file replay.\n\nAcceptance:\n- Bundle path: bench/runs/mismatch/<timestamp>_<rom_id>_<ref>_vs_<dut>/\n- JSON-only files; repro.sh executable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:02.928980797Z","created_by":"bkase","updated_at":"2026-01-21T14:43:02.944633539Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2xn","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:02.944612883Z","created_by":"bkase"}]}
{"id":"bd-2xt","title":"Epic3: Export shared types from backends package","description":"Update src/gbxcule/backends/__init__.py to re-export the shared contract and types.\n\nScope:\n- Export VecBackend, BackendSpec, ArraySpec, StepOutput, CpuState, CpuFlags, Device, Stage, and run schema dataclasses/constants.\n- Add __all__ for stable import surface.\n\nAcceptance:\n- from gbxcule.backends import VecBackend, BackendSpec works in tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:35.145658007Z","created_by":"bkase","updated_at":"2026-01-21T14:22:57.820749066Z","closed_at":"2026-01-21T14:22:57.820677386Z","close_reason":"Exported all shared types from backends package with __all__","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2xt","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:35.162067854Z","created_by":"bkase"}]}
{"id":"bd-2z2","title":"Story 1.2: Establish uv-based dependency management","description":"Scope\n- Add pyproject.toml with runtime + dev deps and uv settings.\n- Generate and commit uv.lock.\n- Configure uv environments for macOS + Linux only.\n- Document lock discipline (uv sync / uv run --locked behavior).\n\nAcceptance\n- uv sync works on macOS and Linux.\n- uv run python -c \"import gbxcule\" succeeds.\n- uv lock --check passes.\n\nRefs\n- history/epic1.md (Story 1.2)\n- history/prd.md (Section 6: Repo structure; Section 14: CI expectations)\n- ARCHITECTURE.md (Section 11.1: uv-only; Section 12: deps)\n- CONSTITUTION.md (Section IV: immutable runtime)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:37.909545271Z","created_by":"bkase","updated_at":"2026-01-21T09:21:06.392715513Z","closed_at":"2026-01-21T09:21:06.392646281Z","close_reason":"Implemented: pyproject.toml and uv.lock created, uv sync works","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2z2","depends_on_id":"bd-2sn","type":"parent-child","created_at":"2026-01-21T09:12:37.917022826Z","created_by":"bkase"}]}
{"id":"bd-34k","title":"Epic5: Implement get_cpu_state normalization","description":"Implement get_cpu_state(env_idx=0) using PyBoy register_file and canonical schema.\n\nScope:\n- Read PC, SP, A, F, B, C, D, E, HL; derive H/L; derive flags from F.\n- Return CpuState dict with required keys; include counters if available.\n- Validate env_idx==0 (since num_envs=1) with clear error.\n\nAcceptance:\n- Schema matches Epic3 canonical CPU state; flags correct for F bits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:24:14.200849442Z","created_by":"bkase","updated_at":"2026-01-21T14:49:51.444941911Z","closed_at":"2026-01-21T14:49:51.444886551Z","close_reason":"get_cpu_state already implemented in bd-3lk commit with canonical CpuState schema","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-34k","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:14.217486971Z","created_by":"bkase"}]}
{"id":"bd-35i","title":"Epic3: Add tests for common types + validation","description":"Create tests/test_backends_common.py covering Epic3 contract behavior.\n\nTests:\n- ArraySpec/BackendSpec JSON serialization (json.dumps succeeds).\n- validate_actions: wrong shape raises, float dtype raises, int64 safely casts to int32.\n- flags_from_f: property test with hypothesis for random f; flags match f & 0xF0 bits.\n- validate_step_output: wrong shapes/dtypes raise.\n- Run schema dataclasses: to_json_dict output is JSON-serializable and contains required keys.\n\nAcceptance:\n- Tests are fast (no PyBoy import).\n- Pytest failure messages are actionable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:15:40.864035488Z","created_by":"bkase","updated_at":"2026-01-21T14:24:13.060231136Z","closed_at":"2026-01-21T14:24:13.060204880Z","close_reason":"Added comprehensive tests for common types, validation, and run schema","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-35i","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:40.879791194Z","created_by":"bkase"}]}
{"id":"bd-373","title":"Story 5.1: Implement pyboy_single backend","description":"Scope\n- Implement src/gbxcule/backends/pyboy_single.py to match backend contract.\n- Run headless and support frames_per_step semantics.\n\nAcceptance\n- reset/step/close implemented and usable by harness.\n- get_cpu_state returns regs with stable keys.\n\nRefs\n- history/m0-epics.md (Story 5.1)\n- ARCHITECTURE.md (Sections 4, 9.1)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:39.254672839Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.129009611Z","deleted_at":"2026-01-21T09:15:23.128994155Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-38j","title":"Story 7.2: Add scaling run support (data-only)","description":"Scope\n- Add --env-counts to run sequential benchmarks for multiple env sizes.\n- Emit a single JSON report aggregating results by env count.\n\nAcceptance\n- Scaling JSON includes per-env-count result entries and schema_version.\n\nRefs\n- history/m0-epics.md (Story 7.2)\n- ARCHITECTURE.md (Section 8.2: metrics)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.284008985Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.098487642Z","deleted_at":"2026-01-21T09:15:23.098478026Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-38o","title":"Epic 9: Docs + devlog tweet draft","description":"Intent: Make the project runnable and legible with uv-only commands, artifact locations, and a public devlog draft.\n\nKey refs to read: README.md, ARCHITECTURE.md, CONSTITUTION.md, history/prd.md, history/epic6789.md, Makefile, bench/harness.py.\n\nMusts:\n- README explains what/why, hypothesis, and success criteria.\n- uv-only install/run commands; no alternate workflows.\n- Document micro-ROM generation, bench, verify (expected failure in M0), artifact locations.\n- Include devlog tweet draft with a reproducible command and (once available) first numbers.\n\nAcceptance: All README commands exist and run; artifact paths match actual output; tweet draft present.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:43:32.941483664Z","created_by":"bkase","updated_at":"2026-01-21T14:43:32.941483664Z","compaction_level":0,"original_size":0}
{"id":"bd-395","title":"Story 2.1: Add Makefile with core targets","description":"Scope\n- Add Makefile at repo root with targets: setup, fmt, lint, test, roms, bench, smoke, verify, check, hooks, help.\n- All python invocations use uv run.\n- Exclude third_party/ and generated directories from formatting.\n\nAcceptance\n- make setup runs uv sync.\n- make lint checks formatting and lint without modifying files.\n- make fmt applies formatting and autofix.\n- make test runs pytest.\n- make help prints available targets.\n\nRefs\n- history/epic2.md (Story 2.1)\n- ARCHITECTURE.md (Section 11.4)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T11:10:10.091174740Z","created_by":"bkase","updated_at":"2026-01-21T11:11:58.695413127Z","closed_at":"2026-01-21T11:11:58.695387477Z","close_reason":"Implemented: Makefile with all core targets (setup, fmt, lint, test, roms, bench, smoke, verify, check, hooks, help)","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-395","depends_on_id":"bd-1t7","type":"parent-child","created_at":"2026-01-21T11:10:10.107490146Z","created_by":"bkase"}]}
{"id":"bd-3f7","title":"Epic8: Verify mode loop + state diff (pure core)","description":"Implement verify loop in bench/harness.py and pure comparison helpers.\n\nScope:\n- CLI flags: --verify, --ref-backend, --dut-backend, --verify-steps, --compare-every, --actions-file.\n- Verify loop: generate/replay actions, step both backends, compare every K steps, fail fast on mismatch.\n- Pure helpers for normalize_cpu_state and diff_states (strict equality).\n\nAcceptance:\n- Works for env_idx=0; structure generalizes later.\n- Comparison logic is deterministic and JSON-serializable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:57.016598788Z","created_by":"bkase","updated_at":"2026-01-21T14:42:57.023426688Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3f7","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:42:57.023406736Z","created_by":"bkase"}]}
{"id":"bd-3gw","title":"Epic 9: Documentation + initial devlog draft","description":"Goal\n- Provide README with setup/run instructions and draft the first devlog tweet.\n\nScope\n- README: premise + hypothesis, uv setup, how to run baselines, artifact locations.\n- Draft devlog tweet including why/where/what next and a reproducible command.\n\nAcceptance\n- README supports a curious developer to run a baseline via uv or make.\n- Devlog draft exists in docs/ or README.\n\nRefs\n- history/m0-epics.md (Epic 9)\n- history/prd.md (Section 15: marketing requirements)\n- ARCHITECTURE.md (Section 15: docs)\n- CONSTITUTION.md (Section VI: documentation as code)","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-21T09:12:41.134597968Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.137263490Z","deleted_at":"2026-01-21T09:15:23.137257730Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-3hk","title":"Epic6: get_cpu_state RPC + normalization","description":"Implement get_cpu_state(env_idx) routing to the owning worker and return canonical CpuState.\n\nScope:\n- Master determines worker/local index for env_idx.\n- Worker reads PyBoy register_file and returns dict with pc/sp/a/f/b/c/d/e/h/l + flags + optional counters.\n- Use shared helper for flags derivation (from common.py).\n- Clear error for invalid env_idx or missing fields.\n\nAcceptance:\n- Schema matches Epic3 canonical CPU state; flags correct for F bits.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:38.872164269Z","created_by":"bkase","updated_at":"2026-01-21T15:03:52.945184879Z","closed_at":"2026-01-21T15:03:52.945159535Z","close_reason":"Already implemented in Story 6.1 - master routes to worker, uses flags_from_f, raises clear errors","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3hk","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:38.879234661Z","created_by":"bkase"}]}
{"id":"bd-3kk","title":"Epic7: Benchmark runner + artifact writer","description":"Implement benchmark timing + artifact writing (RESULT_SCHEMA_VERSION=1).\n\nScope:\n- Pure-ish RunConfig/RunResult construction using shared dataclasses (from Epic3).\n- Warmup loop excluded from timer; measured steps timed with monotonic clock.\n- SPS math: total_env_steps_per_sec and per_env_steps_per_sec; frames_per_sec computed.\n- Write JSON artifact: bench/runs/<timestamp>/<run_id>.json with config/system/results.\n- Include ROM sha256 and git commit sha if available.\n\nAcceptance:\n- JSON validates with stdlib json; schema fields stable and complete.\n- Warmup excluded; formulas correct.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:20.484127649Z","created_by":"bkase","updated_at":"2026-01-21T15:12:04.394752098Z","closed_at":"2026-01-21T15:12:04.394724690Z","close_reason":"Already implemented in Story 7.1 - added git commit SHA to system info","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3kk","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:20.499954196Z","created_by":"bkase"}]}
{"id":"bd-3lk","title":"Epic5: Implement PyBoySingle backend core","description":"Implement src/gbxcule/backends/pyboy_single.py to conform to VecBackend.\n\nScope:\n- Class PyBoySingleBackend with config: rom_path, frames_per_step=24, release_after_frames=8, obs_dim (default 32), log_level.\n- name=\"pyboy_single\", device=\"cpu\", num_envs=1, action_spec/obs_spec from common.py.\n- Lazy import PyBoy; create headless instance (window=\"null\", sound_emulated=False, set_emulation_speed(0)).\n- reset(): reinitialize emulator; return obs (float32[1, obs_dim]) + info.\n- step(actions): validate/cast int32[1]; apply action mapping (noop/up/down/left/right/A/B/start/select). Use explicit pressâ†’tickâ†’release semantics (frames_per_step, release_after_frames). Return batched obs/reward/done/trunc arrays.\n- close(): pyboy.stop(False).\n\nAcceptance:\n- Correct shapes/dtypes and batch semantics.\n- Deterministic step semantics.\n- Clear ValueError for out-of-range actions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:24:07.814200005Z","created_by":"bkase","updated_at":"2026-01-21T14:49:38.379819709Z","closed_at":"2026-01-21T14:49:38.379761693Z","close_reason":"Implemented PyBoySingleBackend with reset, step, close methods","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3lk","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:07.831585022Z","created_by":"bkase"}]}
{"id":"bd-3rn","title":"Story 2.3: Smoke target for developer sanity","description":"Scope\n- make smoke runs a minimal sanity check.\n- For M0 (before harness is implemented): smoke runs lint, test, and roms.\n- Writes output to bench/runs/smoke.json when harness is available.\n- Fast enough for commit hook (<20s).\n- Does not require GPU or multiprocessing.\n\nAcceptance\n- make smoke passes and returns non-zero on failure.\n- make check includes smoke target.\n\nRefs\n- history/epic2.md (Story 2.3)\n- ARCHITECTURE.md (Section 8)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T11:10:13.453486153Z","created_by":"bkase","updated_at":"2026-01-21T11:14:23.680490536Z","closed_at":"2026-01-21T11:14:23.680463159Z","close_reason":"Implemented: make smoke builds ROMs, included in make check","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3rn","depends_on_id":"bd-1t7","type":"parent-child","created_at":"2026-01-21T11:10:13.469212832Z","created_by":"bkase"}]}
{"id":"bd-3sc","title":"Story 3.2: Standardize run metadata schema","description":"Scope\n- Define a stable JSON schema version for run artifacts.\n- Include backend name/device, ROM id/sha, steps/warmup, seeds, env count.\n- Include system info fields for reproducibility.\n\nAcceptance\n- Harness outputs include schema_version and the required fields.\n\nRefs\n- history/m0-epics.md (Story 3.2)\n- ARCHITECTURE.md (Section 8.3: run artifact schema)\n- CONSTITUTION.md (Section V: structured logs)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.564965764Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.079321423Z","deleted_at":"2026-01-21T09:15:23.079315583Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-3st","title":"Epic9: Devlog tweet draft","description":"Add a devlog tweet draft to README (or a small docs/ file if created).\n\nScope:\n- Why (hypothesis + constraints) + where we are today (baselines/micro-ROMs/mismatch automation).\n- What success looks like (scaling + correctness).\n- Include reproducible command (make bench or uv run python bench/harness.py ...).\n- If available, paste first JSON metric (total_env_steps_per_sec) from a real run.\n\nAcceptance:\n- Draft is concise and includes a concrete command and artifact reference.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:46.197961178Z","created_by":"bkase","updated_at":"2026-01-21T14:43:46.213677027Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3st","depends_on_id":"bd-38o","type":"parent-child","created_at":"2026-01-21T14:43:46.213654980Z","created_by":"bkase"}]}
{"id":"bd-3t1","title":"Story 2.2: Add commit-hook that calls Makefile targets","description":"Scope\n- Add .githooks/ directory tracked in repo.\n- Add .githooks/pre-commit script that runs make check.\n- Add make hooks target that runs git config core.hooksPath .githooks.\n- Hook checks for uv and prints clear error if missing.\n- Hook supports SKIP_HOOKS=1 for emergencies.\n\nAcceptance\n- git config --get core.hooksPath outputs .githooks after make hooks.\n- Pre-commit hook runs make check on commit.\n- Hook failure prints actionable message (run make fmt).\n\nRefs\n- history/epic2.md (Story 2.2)\n- ARCHITECTURE.md (Section 11.5)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T11:10:11.763118459Z","created_by":"bkase","updated_at":"2026-01-21T11:14:02.186382567Z","closed_at":"2026-01-21T11:14:02.186354854Z","close_reason":"Implemented: .githooks/pre-commit, make hooks, silent on success","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3t1","depends_on_id":"bd-1t7","type":"parent-child","created_at":"2026-01-21T11:10:11.779781660Z","created_by":"bkase"}]}
{"id":"bd-3tn","title":"Epic5: Add tests for pyboy_single backend","description":"Create tests/test_pyboy_single_backend.py.\n\nTests (fast, CPU-only):\n- Backend initializes headless, reset returns obs shape (1, obs_dim) float32.\n- step with noop returns correct shapes/dtypes for obs/reward/done/trunc.\n- get_cpu_state returns canonical keys + flags with correct bit derivation.\n- invalid action index raises ValueError.\n- close() stops emulator cleanly.\n\nAcceptance:\n- Tests run in <2 minutes and provide actionable failures.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:24:19.323140875Z","created_by":"bkase","updated_at":"2026-01-21T14:52:24.792164127Z","closed_at":"2026-01-21T14:52:24.792138175Z","close_reason":"Added 33 tests covering backend init, reset, step, get_cpu_state, invalid actions, and close","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3tn","depends_on_id":"bd-2ik","type":"parent-child","created_at":"2026-01-21T14:24:19.338669508Z","created_by":"bkase"}]}
{"id":"bd-3tr","title":"Epic 4: Micro-ROM generation + suite definition","description":"Intent: Generate deterministic, license-safe micro-ROMs and a self-describing suite used for correctness and benchmarks. Ensure ROMs are valid, reproducible, and runnable in headless PyBoy.\n\nMusts (ARCHITECTURE/CONSTITUTION aligned):\n- Deterministic outputs (same generator version -> identical bytes/sha256).\n- Valid ROM headers + checksums (Nintendo logo, header/global checksum).\n- Output to bench/roms/out (gitignored) via atomic writes.\n- At least two ROMs: ALU_LOOP.gb and MEM_RWB.gb.\n- Suite file includes frames_per_step (default 24) + release_after_frames (default 8).\n- Tests are fast and reproducible; no copyrighted ROMs.\n\nDeliverables:\n- bench/roms/build_micro_rom.py\n- bench/roms/suite.yaml\n- tests/test_micro_roms.py (fully implemented)\n- (Optional) ensure bench/roms/out is ignored.\n\nAcceptance: ROM builder is pure + deterministic; checksums validated; PyBoy headless tick succeeds; suite.yaml is explicit and stable.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:22:50.054383026Z","created_by":"bkase","updated_at":"2026-01-21T14:45:48.891249142Z","closed_at":"2026-01-21T14:45:48.891223526Z","close_reason":"Epic 4 complete: ROM builder, suite.yaml, and tests all done","compaction_level":0,"original_size":0}
{"id":"bd-cc1","title":"Epic7: Harness CLI skeleton + backend registry","description":"Implement bench/harness.py CLI skeleton and backend selection.\n\nScope:\n- argparse CLI with required flags: --backend {pyboy_single,pyboy_vec_mp}, --rom or --suite, --steps, --warmup-steps, --num-envs, --num-workers, --frames-per-step, --release-after-frames, --output-dir.\n- Validate mutually exclusive rom/suite and required args.\n- Backend registry/factory in harness or backends/__init__.py.\n- Construct backend with config and run a single benchmark.\n\nAcceptance:\n- uv run python bench/harness.py --help shows flags.\n- Running with a micro-ROM produces a JSON artifact under bench/runs/.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:42:10.154810951Z","created_by":"bkase","updated_at":"2026-01-21T15:11:19.896129084Z","closed_at":"2026-01-21T15:11:19.896074218Z","close_reason":"Implemented harness CLI with backend registry, run config, artifact writer","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-cc1","depends_on_id":"bd-dcz","type":"parent-child","created_at":"2026-01-21T14:42:10.170394745Z","created_by":"bkase"}]}
{"id":"bd-dc7","title":"Story 3.1: Define backend interface contract","description":"Scope\n- Implement VecBackend protocol/base class in common.py.\n- Define StepOutput/ResetOutput dataclasses.\n- Include action_spec/obs_spec and device/num_envs metadata.\n\nAcceptance\n- Protocol includes reset, step, get_cpu_state, close.\n- Types are importable and pyright-ready in core modules.\n\nRefs\n- history/m0-epics.md (Story 3.1)\n- ARCHITECTURE.md (Section 5.1: VecBackend protocol)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.469215144Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.112834142Z","deleted_at":"2026-01-21T09:15:23.112827262Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-dcz","title":"Epic 7: Harness CLI for benchmark + reporting","description":"Intent: Implement bench/harness.py as the single CLI to run backends, measure throughput, and emit structured JSON artifacts with stable schemas.\n\nKey refs to read: ARCHITECTURE.md (run schema, step semantics), CONSTITUTION.md (functional core/imperative shell), history/epic6789.md, src/gbxcule/backends/common.py, src/gbxcule/backends/{pyboy_single,pyboy_vec_mp}.py, bench/roms/suite.yaml.\n\nMusts:\n- Unidirectional flow: RunConfig -> run -> RunResult -> write artifact.\n- Warmup excluded from timing; SPS math correct.\n- RESULT_SCHEMA_VERSION=1 artifacts under bench/runs/<timestamp>/<run_id>.json.\n- Deterministic action generation spec + seed recorded.\n- CLI supports backend, rom/suite, steps, warmup, num_envs, num_workers, frames_per_step, release_after_frames.\n\nAcceptance: Fake-backend tests validate schema + SPS math; CLI runs pyboy_single and pyboy_vec_mp on a micro-ROM; artifacts are JSON-valid and stable.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:42:03.277320430Z","created_by":"bkase","updated_at":"2026-01-21T14:42:03.277320430Z","compaction_level":0,"original_size":0}
{"id":"bd-fak","title":"Epic9: README update (why + how to run)","description":"Update README.md with concise, operational sections.\n\nScope:\n- What this is + hypothesis + success criteria.\n- uv-only install: uv sync / make setup.\n- Micro-ROM generation: make roms.\n- Baseline bench: make bench; explain JSON artifacts under bench/runs/.\n- Verify (expected to fail with stub): make verify; explain mismatch bundles + repro.sh.\n- Minimal interpretation guide: SPS vs frames/sec; warmup vs measured.\n\nAcceptance:\n- All commands listed exist in Makefile and are runnable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:38.780257759Z","created_by":"bkase","updated_at":"2026-01-21T14:43:38.796371127Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-fak","depends_on_id":"bd-38o","type":"parent-child","created_at":"2026-01-21T14:43:38.796349415Z","created_by":"bkase"}]}
{"id":"bd-hqs","title":"Epic 5: pyboy_single reference backend","description":"Goal\n- Implement the trusted single-env reference backend for baselines and verification.\n\nScope\n- pyboy_single implements VecBackend contract.\n- Headless execution and stable get_cpu_state normalization.\n\nAcceptance\n- Backend runs N steps and returns stable cpu state dict.\n- Harness can use it as the reference backend.\n\nRefs\n- history/m0-epics.md (Epic 5)\n- history/prd.md (Section 7: backends; Section 10: verification scope)\n- ARCHITECTURE.md (Section 9.1: pyboy_single)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:39.131510679Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.105236714Z","deleted_at":"2026-01-21T09:15:23.105227098Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-jd1","title":"Epic8: DUT stub in warp_vec backend","description":"Add a minimal DUT stub in src/gbxcule/backends/warp_vec.py to enable verify flow.\n\nScope:\n- Implement VecBackend interface for device=\"cpu\" stub that returns predictable (wrong) CPU state.\n- Step returns zero obs/reward; get_cpu_state returns zeros (or incrementing counter) with canonical keys.\n- Ensure name=\"warp_vec\" so harness uses real backend name.\n\nAcceptance:\n- Verify mode fails against pyboy_single and emits bundle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:43:16.583924633Z","created_by":"bkase","updated_at":"2026-01-21T14:43:16.590884661Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-jd1","depends_on_id":"bd-1pl","type":"parent-child","created_at":"2026-01-21T14:43:16.590861349Z","created_by":"bkase"}]}
{"id":"bd-k5g","title":"Epic3 (optional): Add CPU-state hash helper","description":"Optional but recommended: add a deterministic CPU-state hashing helper to src/gbxcule/core/signatures.py for quick determinism checks.\n\nScope:\n- Implement hash_cpu_state(state: CpuState, *, include_counters: bool = True) -> str using blake2b over a canonicalized JSON representation (sorted keys, stable ints).\n- Use stdlib only; no goldens.\n- (Optional) add a minimal unit test to ensure stable output for the same state.\n\nAcceptance:\n- Hash output is deterministic across runs and platforms for equivalent states.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T14:15:53.135954089Z","created_by":"bkase","updated_at":"2026-01-21T14:26:04.644966717Z","closed_at":"2026-01-21T14:26:04.644939277Z","close_reason":"Added hash_cpu_state helper with blake2b + tests","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-k5g","depends_on_id":"bd-2m1","type":"parent-child","created_at":"2026-01-21T14:15:53.143769728Z","created_by":"bkase"}]}
{"id":"bd-nxk","title":"Story 2.1: Add Makefile with core targets","description":"Scope\n- Add Makefile targets: setup, fmt, test, roms, bench, verify, check.\n- Ensure each target uses uv run internally.\n\nAcceptance\n- make setup runs uv sync.\n- make test runs pytest via uv.\n- make check runs fmt/test/roms/bench smoke and returns non-zero on failure.\n\nRefs\n- history/m0-epics.md (Story 2.1)\n- ARCHITECTURE.md (Section 11.4: Makefile targets)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.122863736Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.166471021Z","deleted_at":"2026-01-21T09:15:23.166461692Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-pab","title":"Story 2.3: Smoke target for developer sanity","description":"Scope\n- Add make smoke target that builds micro-ROMs and runs a short pyboy_single bench.\n- Ensure JSON output is written to bench/runs/ and failures return non-zero.\n\nAcceptance\n- make smoke produces a JSON artifact under bench/runs/.\n- make smoke exits non-zero on failure.\n\nRefs\n- history/m0-epics.md (Story 2.3)\n- ARCHITECTURE.md (Section 8: benchmarking protocol)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:38.296298809Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.057015158Z","deleted_at":"2026-01-21T09:15:23.057009190Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-r4e","title":"M0: Repo + harness foundation","description":"Goal\n- Deliver the M0 definition of done for repo scaffolding, baselines, harness artifacts, verification scaffold, and initial docs.\n\nM0 DoD (from source docs)\n- Repo matches required structure and is runnable via uv only.\n- Makefile targets for setup/test/bench/verify exist and work on a fresh machine.\n- Micro-ROM builder outputs at least two valid ROMs in bench/roms/out/.\n- Harness runs pyboy_single and pyboy_vec_mp baselines and emits JSON under bench/runs/.\n- Verification scaffold exists and mismatch emits a repro bundle.\n- Devlog tweet draft exists.\n- Commit-hook checks exist via Makefile target(s).\n\nAcceptance\n- All child epics (1-9) closed.\n- M0 DoD checklist above fully satisfied.\n\nRefs\n- history/m0-epics.md (M0 Definition of Done)\n- history/prd.md (Section 16: M0)\n- ARCHITECTURE.md (Sections 1, 8, 11)\n- CONSTITUTION.md (Sections I, II, VI)","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2026-01-21T09:12:37.732633844Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.160071742Z","deleted_at":"2026-01-21T09:15:23.160057230Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"epic","compaction_level":0,"original_size":0}
{"id":"bd-s1v","title":"Epic9 (optional): README command guard","description":"Optional: add a tiny test that asserts README make commands exist in Makefile (docs-as-code lite).\n\nScope:\n- Parse README for lines starting with `make ` and ensure targets exist.\n- Keep test fast and deterministic.\n\nAcceptance:\n- Fails when README references a missing make target.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-21T14:43:51.311184952Z","created_by":"bkase","updated_at":"2026-01-21T14:43:51.326868770Z","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-s1v","depends_on_id":"bd-38o","type":"parent-child","created_at":"2026-01-21T14:43:51.326847698Z","created_by":"bkase"}]}
{"id":"bd-th6","title":"Story 7.3: Deterministic action generation","description":"Scope\n- Add --actions-seed and record action generator name/version + seed.\n- Actions can be noop for micro-ROMs but must be reproducible.\n\nAcceptance\n- JSON artifacts record actions seed and generator metadata.\n\nRefs\n- history/m0-epics.md (Story 7.3)\n- ARCHITECTURE.md (Section 1.1: determinism; Section 4.1: frames per step)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.442791668Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.084081414Z","deleted_at":"2026-01-21T09:15:23.084075718Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
{"id":"bd-wg6","title":"Epic6: Robust close/join + worker failure handling","description":"Harden multiprocessing lifecycle in pyboy_vec_mp.\n\nScope:\n- Implement close() that sends CLOSE, joins workers with timeout, terminates if needed.\n- Detect worker crashes (broken pipe / EOF) and raise immediately with context.\n- Ensure child processes are cleaned even on errors during step/reset.\n\nAcceptance:\n- No zombie workers after tests; close() is idempotent and bounded.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:41:45.022148757Z","created_by":"bkase","updated_at":"2026-01-21T15:05:02.073985548Z","closed_at":"2026-01-21T15:05:02.073930428Z","close_reason":"Added broken pipe/EOF detection, timeout on recv, __del__ cleanup, and close() on errors","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-wg6","depends_on_id":"bd-2sm","type":"parent-child","created_at":"2026-01-21T14:41:45.040535522Z","created_by":"bkase"}]}
{"id":"bd-x9y","title":"Epic4 (optional): Ensure bench/roms/out is gitignored","description":"Optional: verify bench/roms/out is gitignored; add to .gitignore if missing.\n\nAcceptance:\n- Generated ROMs are not tracked in git.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T14:23:16.250178210Z","created_by":"bkase","updated_at":"2026-01-21T14:45:48.499927396Z","closed_at":"2026-01-21T14:45:48.499871204Z","close_reason":"bench/roms/out and .hypothesis already gitignored","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-x9y","depends_on_id":"bd-3tr","type":"parent-child","created_at":"2026-01-21T14:23:16.266581287Z","created_by":"bkase"}]}
{"id":"bd-yun","title":"Story 8.1: Add --verify mode scaffold","description":"Scope\n- Harness supports --verify with ref backend pyboy_single and a stub dut backend.\n- Comparison loop runs for N steps with step-exact compares.\n\nAcceptance\n- verify mode exits non-zero on mismatch and prints summary.\n\nRefs\n- history/m0-epics.md (Story 8.1)\n- ARCHITECTURE.md (Section 7.2: compare policy)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-21T09:12:40.783882011Z","created_by":"bkase","updated_at":"2026-01-21T09:15:23.150406480Z","deleted_at":"2026-01-21T09:15:23.150396768Z","deleted_by":"bkase","delete_reason":"trim to epic1 M0 scope","original_type":"task","compaction_level":0,"original_size":0}
