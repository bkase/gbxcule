# Micro-ROM test suite
# Each entry defines a ROM for benchmarking and verification.
# These ROMs are generated by build_micro_rom.py and are license-safe.

suite_version: 1

defaults:
  frames_per_step: 24
  release_after_frames: 8

roms:
  - id: ALU_LOOP
    path: bench/roms/out/ALU_LOOP.gb
    description: "Deterministic ALU-heavy tight loop. Tests CPU throughput."
    frames_per_step: 24
    release_after_frames: 8

  - id: MEM_RWB
    path: bench/roms/out/MEM_RWB.gb
    description: "WRAM read/write heavy loop. Tests memory throughput."
    frames_per_step: 24
    release_after_frames: 8

  - id: DMA_OAM_COPY
    path: bench/roms/out/DMA_OAM_COPY.gb
    description: "OAM DMA copy from 0xC000 page; verifies 0xFE00..0xFE9F."
    frames_per_step: 1
    release_after_frames: 1

  - id: TIMER_DIV_BASIC
    path: bench/roms/out/TIMER_DIV_BASIC.gb
    description: "Samples DIV/TIMA at slow clock with an initial DIV reset."
    frames_per_step: 24
    release_after_frames: 8

  - id: TIMER_IRQ_HALT
    path: bench/roms/out/TIMER_IRQ_HALT.gb
    description: "Timer interrupt + HALT wake behavior; ISR writes signature."
    frames_per_step: 24
    release_after_frames: 8

  - id: EI_DELAY
    path: bench/roms/out/EI_DELAY.gb
    description: "EI delay semantics; ISR captures return address bytes."
    frames_per_step: 24
    release_after_frames: 8

  - id: JOY_DIVERGE_PERSIST
    path: bench/roms/out/JOY_DIVERGE_PERSIST.gb
    description: "JOYP-driven divergence with persistent mode + WRAM signature."
    frames_per_step: 24
    release_after_frames: 8
    action_gen: striped

  - id: LOADS_BASIC
    path: bench/roms/out/LOADS_BASIC.gb
    description: "Load/store opcode coverage loop (register/memory/LDH variants)."
    frames_per_step: 24
    release_after_frames: 8

  - id: ALU_FLAGS
    path: bench/roms/out/ALU_FLAGS.gb
    description: "ALU + flags coverage loop (reg/HL/imm ops, DAA/CPL/SCF/CCF)."
    frames_per_step: 24
    release_after_frames: 8

  - id: ALU16_SP
    path: bench/roms/out/ALU16_SP.gb
    description: "16-bit ALU + SP coverage loop (ADD HL,rr; INC/DEC rr; ADD SP,e8)."
    frames_per_step: 24
    release_after_frames: 8

  - id: FLOW_STACK
    path: bench/roms/out/FLOW_STACK.gb
    description: "Control flow + stack coverage loop (CALL/RET/JR/JP/PUSH/POP)."
    frames_per_step: 24
    release_after_frames: 8

  - id: CB_BITOPS
    path: bench/roms/out/CB_BITOPS.gb
    description: "Rotate/shift + CB bit ops coverage (BIT/RES/SET, r8 + (HL))."
    frames_per_step: 24
    release_after_frames: 8

  - id: BG_STATIC
    path: bench/roms/out/BG_STATIC.gb
    description: "Static BG map with unsigned tiles for frame-hash compare."
    frames_per_step: 1
    release_after_frames: 1

  - id: PPU_WINDOW
    path: bench/roms/out/PPU_WINDOW.gb
    description: "Window overlay vs BG for frame-hash compare."
    frames_per_step: 1
    release_after_frames: 1

  - id: PPU_SPRITES
    path: bench/roms/out/PPU_SPRITES.gb
    description: "Sprite rendering (priority/flips/palettes/8x16) frame-hash compare."
    frames_per_step: 1
    release_after_frames: 1

  - id: PPU_STAT_IRQ
    path: bench/roms/out/PPU_STAT_IRQ.gb
    description: "STAT interrupt counter in WRAM (edge-triggered)."
    frames_per_step: 1
    release_after_frames: 1

  - id: BG_SCROLL_SIGNED
    path: bench/roms/out/BG_SCROLL_SIGNED.gb
    description: "Signed tile data with SCX/SCY scroll for frame-hash compare."
    frames_per_step: 1
    release_after_frames: 1
